<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Question Sorter Arcade</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f0f8ff;
      margin: 0;
      padding: 0;
      overflow: hidden;
      text-align: center;
    }
    button {
      padding: 15px 25px;
      margin: 10px;
      font-size: 18px;
      border: none;
      border-radius: 12px;
      background: #007bff;
      color: white;
      cursor: pointer;
      transition: all 0.2s ease;
      box-shadow: 0 4px 6px rgba(0,0,0,0.2);
    }
    button:hover {
      background: #0056b3;
      transform: scale(1.05);
    }
    button.selected {
      background: #003f7f;
      box-shadow: 0 0 12px rgba(0,0,0,0.5), inset 0 2px 6px rgba(0,0,0,0.4);
      transform: scale(1.05);
    }
    #startScreen, #learnScreen, #gameOverScreen {
      display: none;
      width: 100%;
      height: 100vh;
      position: relative;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      background: #e6f2ff;
    }
    
    /* --- CORRECTED AND COMBINED RULE --- */
    #gameArea {
      display: none;         /* Hide it by default */
      position: relative;
      height: 100vh;         /* Give it full height for when it's active */
      background: #e6f2ff;
      overflow: hidden;
      border-bottom: 4px solid #333;
    }
    
    .question {
      position: absolute;
      background: #ffd966;
      border: 2px solid #333;
      border-radius: 8px;
      padding: 12px;
      cursor: grab;
      width: 200px;
      text-align: center;
      font-size: 16px;
    }
    #bins {
      display: flex;
      justify-content: space-around;
      align-items: center;
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 18vh;
      padding: 5px;
      background: #222;
      z-index: 10;
    }
    .bin {
      flex: 1;
      margin: 0 5px;
      border-radius: 12px;
      text-align: center;
      line-height: 80px;
      font-weight: bold;
      font-size: 16px;
      color: #fff;
      box-shadow: 0 4px 6px rgba(0,0,0,0.3);
      transition: transform 0.2s, background 0.3s;
    }
    .bin[data-type="open"] { background: linear-gradient(to bottom, #4caf50, #2e7d32); }
    .bin[data-type="closed"] { background: linear-gradient(to bottom, #2196f3, #1565c0); }
    .bin[data-type="probing"] { background: linear-gradient(to bottom, #ff9800, #e65100); }
    .bin[data-type="clarifying"] { background: linear-gradient(to bottom, #9c27b0, #6a1b9a); }
    .bin:hover { transform: scale(1.05); }
    .bin.correct { filter: brightness(1.2); }
    .bin.wrong { filter: brightness(0.7) saturate(1.5); }
    #scoreboard {
      position: absolute;
      top: 10px;
      left: 10px;
      font-size: 20px;
      font-weight: bold;
    }
    #lives {
      position: absolute;
      top: 10px;
      right: 10px;
      font-size: 20px;
      font-weight: bold;
    }
    #learnScreen {
      overflow-y: auto;
      padding: 20px;
      box-sizing: border-box;
    }
    #learnText {
      flex: 1;
      overflow-y: auto;
      max-height: 80vh;
    }
    /* --- âœ… ADD THESE STYLES FOR ANIMATION & FEEDBACK --- */
    .question.wrong-answer {
      background-color: #ff7675; /* A light red color */
      animation: shake 0.5s;
    }

    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-10px); }
      75% { transform: translateX(10px); }
    }

    .modal-overlay {
      display: none; /* Hidden by default */
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.6);
      z-index: 1000;
      justify-content: center;
      align-items: center;
    }

    .modal-content {
      background: white;
      padding: 25px;
      border-radius: 15px;
      width: 90%;
      max-width: 500px;
      text-align: center;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }
    /* --- END OF NEW STYLES --- */

    /* Tablet/Mobile adjustments */
    @media (max-width: 1024px) {
      /* ... your existing media query rules ... */
    @media (max-width: 1024px) {
      #bins {
        position: absolute;
        bottom: 0vh;
        height: 25vh;
      }
      .bin {
        font-size: 22px;
        min-height: 100px;
      }
    }
  </style>
</head>
<body>

  <div id="startScreen">
    <h1>Question Sorter Arcade</h1>
    <h2>Select Language</h2>
    <div>
      <button id="btn-en" onclick="selectLanguage('en')">English</button>
      <button id="btn-tr" onclick="selectLanguage('tr')">TÃ¼rkÃ§e</button>
      <button id="btn-zh" onclick="selectLanguage('zh')">ä¸­æ–‡</button>
    </div>
    <h2>Select Difficulty</h2>
    <div>
      <button id="btn-easy" onclick="selectDifficulty('easy')">Easy</button>
      <button id="btn-medium" onclick="selectDifficulty('medium')">Medium</button>
      <button id="btn-hard" onclick="selectDifficulty('hard')">Hard</button>
    </div>
    <button onclick="showLearn()">Learn About Questions</button>
    <button id="btn-start">Start Game</button>
  </div>

  <div id="learnScreen">
    <h2 id="learnTitle">Learn About Question Types</h2>
    <div id="learnText"></div>
    <button onclick="backToStart()">Back</button>
  </div>
  
  <div id="gameArea">
    <div id="scoreboard">Score: 0 | Streak: 0</div>
    <div id="lives">Lives: 3</div>
    <div id="bins">
      <div class="bin" data-type="open">Open-Ended</div>
      <div class="bin" data-type="closed">Closed</div>
      <div class="bin" data-type="probing">Probing</div>
      <div class="bin" data-type="clarifying">Clarifying</div>
    </div>
  </div>

  <div id="gameOverScreen">
    <h1>Game Over</h1>
    <p id="finalScore"></p>
    <button onclick="restartGame()">Restart</button>
  </div>
<div id="gameOverScreen">
    <h1>Game Over</h1>
    <p id="finalScore"></p>
    <button onclick="restartGame()">Restart</button>
  </div>

  <div id="feedbackModal" class="modal-overlay">
    <div class="modal-content">
      <h2 id="feedbackTitle">Oops! Let's review.</h2>
      <p id="feedbackText"></p>
      <button id="closeFeedback">Got it!</button>
    </div>
  </div>

<script>
  // LANGUAGES
  const texts = {
    en: {
      learn: `
        <h3>Open-Ended Questions âœ¨</h3>
        <p>Open-ended questions are powerful because they invite detailed responses ğŸŒ±. Instead of answering with just â€œyesâ€ or â€œno,â€ the other person has to think, explain, and share their ideas. For example: â€œWhat do you think about teamwork?â€ or â€œHow would you solve this challenge in class?â€ These questions open the door to deeper conversations.</p>
        <p>They are very useful in school, at home, and even with friends ğŸ‘«. When you ask someone an open-ended question, you are showing respect for their thoughts and experiences. This makes the other person feel valued and important, which helps to build trust and stronger relationships.</p>
        <p>Open-ended questions also encourage creativity ğŸ¨. They allow people to express unique perspectives and think in new ways. For example, instead of asking â€œDid you like the story?â€ (closed), you could ask â€œWhat part of the story was your favorite and why?â€ This encourages richer discussion.</p>
        <p>Finally, using open-ended questions helps you learn more about others and yourself ğŸ§ . You can discover what people feel, what they believe, and how they solve problems. These questions turn an ordinary talk into a meaningful conversation that can even change how people see the world.</p>
  
        <h3>Closed Questions ğŸšª</h3>
        <p>Closed questions usually need only a short answer, such as â€œyes,â€ â€œno,â€ or a fact ğŸ“Š. They often begin with words like â€œDid,â€ â€œIs,â€ â€œAre,â€ or â€œCan.â€ For example: â€œDid you do your homework?â€ or â€œIs it raining outside?â€ These are simple and efficient when you just need quick facts.</p>
        <p>Closed questions are very useful in certain situations â±ï¸. Teachers use them to check understanding, doctors use them to confirm symptoms, and parents use them to check if chores are done. They are great when you need clear and fast answers.</p>
        <p>However, closed questions donâ€™t give much space for detailed thinking ğŸ’­. If you ask only closed questions, the conversation might feel short or boring. For example, â€œDid you like the trip?â€ may only get a â€œyesâ€ or â€œno,â€ while an open-ended question would give you a full story.</p>
        <p>Good communicators balance closed and open-ended questions âš–ï¸. Closed ones help gather facts, while open ones invite discussion. When you mix them, you can have both efficiency and depth in your conversations.</p>
  
        <h3>Probing Questions ğŸ”</h3>
        <p>Probing questions are designed to dig deeper into someoneâ€™s answer ğŸŒ. They usually follow another question and ask the person to explain more. For example: â€œWhy do you think that happened?â€ or â€œCan you tell me more about what you mean?â€ These help uncover details that are not clear at first.</p>
        <p>They are important because they show that you are truly listening ğŸ‘‚. By asking a probing question, you encourage the speaker to reflect and give more information. Teachers, interviewers, and scientists use them to get beyond surface-level answers.</p>
        <p>Probing questions can also reveal hidden feelings or assumptions ğŸ¤”. For example, if someone says, â€œI didnâ€™t like the project,â€ a probing question like â€œWhat part didnâ€™t you like?â€ can help you understand the real issue. This helps solve problems and build empathy.</p>
        <p>But probing questions should be asked politely and respectfully ğŸ™. If they are too pushy, the person might feel uncomfortable. When used with kindness, they make people feel heard and understood, creating stronger connections.</p>
  
        <h3>Clarifying Questions ğŸ’¡</h3>
        <p>Clarifying questions help make sure everyone understands the same thing âœ…. For example: â€œDo you mean you were tired because of the homework, or because of the sports game?â€ These questions prevent confusion by asking for more detail when something is unclear.</p>
        <p>They are especially useful in teamwork and class discussions ğŸ‘©â€ğŸ«. When instructions are not clear, clarifying questions help avoid mistakes. For example: â€œWhen you said write an essay, do you mean one page or two?â€ This shows that you are paying attention.</p>
        <p>Clarifying questions build trust because they show that you care about accuracy ğŸ¤. The speaker feels respected since you want to fully understand their message. This helps prevent arguments and makes teamwork smoother.</p>
        <p>Finally, clarifying questions make communication stronger ğŸ—ï¸. They give both people a chance to check their understanding and avoid problems later. They are an essential skill in school, friendships, and even future jobs.</p>
      `,
      bins: ["Open-Ended", "Closed", "Probing", "Clarifying"],
    },
    tr: {
      learn: `
        <h3>AÃ§Ä±k UÃ§lu Sorular âœ¨</h3>
        <p>AÃ§Ä±k uÃ§lu sorular, detaylÄ± cevaplarÄ± teÅŸvik eder ve karÅŸÄ±nÄ±zdakini dÃ¼ÅŸÃ¼nmeye yÃ¶nlendirir ğŸŒ±. Bu sorular â€œEvetâ€ veya â€œHayÄ±râ€ ile bitmez; kiÅŸinin dÃ¼ÅŸÃ¼ncelerini aÃ§Ä±klamasÄ±nÄ± ister. Ã–rneÄŸin: â€œTakÄ±m Ã§alÄ±ÅŸmasÄ± hakkÄ±nda ne dÃ¼ÅŸÃ¼nÃ¼yorsun?â€ veya â€œBu problemi nasÄ±l Ã§Ã¶zerdin?â€</p>
        <p>AÃ§Ä±k uÃ§lu sorular, karÅŸÄ±lÄ±klÄ± saygÄ±yÄ± artÄ±rÄ±r ve samimi konuÅŸmalar baÅŸlatÄ±r ğŸ‘«. BÃ¶yle sorular sorulduÄŸunda karÅŸÄ±nÄ±zdaki kiÅŸi kendini deÄŸerli hisseder. Bu, arkadaÅŸlÄ±klarÄ±n, sÄ±nÄ±f iÃ§i iletiÅŸimin ve aile baÄŸlarÄ±nÄ±n gÃ¼Ã§lenmesine yardÄ±mcÄ± olur.</p>
        <p>AyrÄ±ca bu sorular yaratÄ±cÄ±lÄ±ÄŸÄ± teÅŸvik eder ğŸ¨. Ä°nsanlar kendi fikirlerini Ã¶zgÃ¼rce ifade edebilir. Ã–rneÄŸin, â€œHikÃ¢yeyi beÄŸendin mi?â€ yerine â€œHikÃ¢yenin en sevdiÄŸin bÃ¶lÃ¼mÃ¼ hangisiydi ve neden?â€ derseniz, daha zengin bir sohbet elde edersiniz.</p>
        <p>Son olarak, aÃ§Ä±k uÃ§lu sorular bize karÅŸÄ±mÄ±zdaki kiÅŸiyi daha iyi tanÄ±ma fÄ±rsatÄ± verir ğŸ§ . Bu sorular sayesinde sÄ±radan bir konuÅŸma, anlamlÄ± bir paylaÅŸÄ±ma dÃ¶nÃ¼ÅŸebilir.</p>
  
        <h3>KapalÄ± Sorular ğŸšª</h3>
        <p>KapalÄ± sorular kÄ±sa ve net cevaplar gerektirir ğŸ“Š. Genellikle â€œMiâ€, â€œMÄ±â€, â€œVar mÄ±â€ gibi kelimelerle baÅŸlar. Ã–rneÄŸin: â€œÃ–devini yaptÄ±n mÄ±?â€ veya â€œBugÃ¼n yaÄŸmur yaÄŸÄ±yor mu?â€</p>
        <p>Bu sorular, hÄ±zlÄ± bilgi almak iÃ§in Ã§ok kullanÄ±ÅŸlÄ±dÄ±r â±ï¸. Ã–ÄŸretmenler ders kontrolÃ¼ yaparken, ebeveynler ev iÅŸleri iÃ§in veya doktorlar kÄ±sa bilgi almak iÃ§in kapalÄ± sorular kullanÄ±r.</p>
        <p>Ancak kapalÄ± sorular derin dÃ¼ÅŸÃ¼nmeyi teÅŸvik etmez ğŸ’­. Ã‡ok fazla kullanÄ±lÄ±rsa sohbet sÄ±kÄ±cÄ± olabilir. â€œGeziyi beÄŸendin mi?â€ sorusu sadece â€œEvetâ€ ya da â€œHayÄ±râ€ cevabÄ± getirir.</p>
        <p>Bu yÃ¼zden iyi iletiÅŸimciler kapalÄ± sorularÄ± aÃ§Ä±k uÃ§lu sorularla dengeler âš–ï¸. BÃ¶ylece hem hÄ±zlÄ± bilgi alÄ±nÄ±r hem de sohbet derinleÅŸir.</p>
  
        <h3>SorgulayÄ±cÄ± Sorular ğŸ”</h3>
        <p>SorgulayÄ±cÄ± sorular, cevabÄ±n arkasÄ±ndaki nedeni anlamak iÃ§in sorulur ğŸŒ. Ã–rneÄŸin: â€œNeden bÃ¶yle dÃ¼ÅŸÃ¼ndÃ¼n?â€ veya â€œDaha fazla ayrÄ±ntÄ± verebilir misin?â€</p>
        <p>Bu sorular, gerÃ§ekten dinlediÄŸinizi gÃ¶sterir ğŸ‘‚. KarÅŸÄ±nÄ±zdaki kiÅŸi kendini ifade etmeye devam eder ve siz daha fazla bilgi edinirsiniz. Ã–ÄŸretmenler, araÅŸtÄ±rmacÄ±lar ve gazeteciler sÄ±kÃ§a kullanÄ±r.</p>
        <p>SorgulayÄ±cÄ± sorular, gizli duygularÄ± ya da sebepleri ortaya Ã§Ä±karabilir ğŸ¤”. Bir Ã¶ÄŸrenci â€œProjeyi sevmedimâ€ dediÄŸinde, â€œHangi kÄ±smÄ±nÄ± sevmedin?â€ diye sorarsanÄ±z gerÃ§eÄŸe ulaÅŸÄ±rsÄ±nÄ±z.</p>
        <p>Ancak bu sorular saygÄ±lÄ± bir ÅŸekilde sorulmalÄ±dÄ±r ğŸ™. Aksi halde kiÅŸi baskÄ± altÄ±nda hissedebilir. DoÄŸru kullanÄ±ldÄ±ÄŸÄ±nda, samimi baÄŸlar kurar.</p>
  
        <h3>AÃ§Ä±klayÄ±cÄ± Sorular ğŸ’¡</h3>
        <p>AÃ§Ä±klayÄ±cÄ± sorular, yanlÄ±ÅŸ anlamalarÄ± Ã¶nlemek iÃ§in kullanÄ±lÄ±r âœ…. Ã–rneÄŸin: â€œBunu mu kastettin, yoksa ÅŸunu mu?â€ veya â€œZor dedin, hangi aÃ§Ä±dan zor?â€</p>
        <p>Ã–zellikle ekip Ã§alÄ±ÅŸmalarÄ± ve sÄ±nÄ±f ortamlarÄ±nda Ã§ok faydalÄ±dÄ±r ğŸ‘©â€ğŸ«. Talimatlar belirsiz olduÄŸunda, aÃ§Ä±klayÄ±cÄ± sorular iÅŸleri netleÅŸtirir.</p>
        <p>AyrÄ±ca gÃ¼ven oluÅŸturur ğŸ¤. KarÅŸÄ±nÄ±zdaki kiÅŸi, sÃ¶zlerinin Ã¶nemsendiÄŸini hisseder. Bu da iletiÅŸimi gÃ¼Ã§lendirir.</p>
        <p>SonuÃ§ olarak aÃ§Ä±klayÄ±cÄ± sorular, iletiÅŸimi saÄŸlamlaÅŸtÄ±rÄ±r ğŸ—ï¸. Hem siz hem de karÅŸÄ±nÄ±zdaki kiÅŸi doÄŸru anladÄ±ÄŸÄ±ndan emin olur.</p>
      `,
      bins: ["AÃ§Ä±k UÃ§lu", "KapalÄ±", "SorgulayÄ±cÄ±", "AÃ§Ä±klayÄ±cÄ±"],
    },
    zh: {
      learn: `
        <h3>å¼€æ”¾å¼é—®é¢˜ âœ¨</h3>
        <p>å¼€æ”¾å¼é—®é¢˜è®©å¯¹æ–¹å¿…é¡»è¯¦ç»†å›ç­”ï¼Œè€Œä¸æ˜¯ç®€å•çš„â€œæ˜¯â€æˆ–â€œå¦â€ ğŸŒ±ã€‚ä¾‹å¦‚ï¼šâ€œä½ æ€ä¹ˆçœ‹å¾…å›¢é˜Ÿåˆä½œï¼Ÿâ€ æˆ– â€œä½ ä¼šå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿâ€</p>
        <p>è¿™ç±»é—®é¢˜èƒ½è®©äººä»¬æ„Ÿåˆ°è¢«å°Šé‡ ğŸ‘«ã€‚å› ä¸ºä½ åœ¨è®¤çœŸå¬ï¼Œä»–ä»¬ä¼šæ›´æ„¿æ„åˆ†äº«è‡ªå·±çš„æƒ³æ³•å’Œç»å†ï¼Œä»è€Œå»ºç«‹ä¿¡ä»»å’Œç†è§£ã€‚</p>
        <p>å¼€æ”¾å¼é—®é¢˜ä¹Ÿèƒ½æ¿€å‘åˆ›é€ åŠ› ğŸ¨ã€‚æ¯”å¦‚ï¼šâ€œä½ å–œæ¬¢è¿™ä¸ªæ•…äº‹å—ï¼Ÿâ€ åªèƒ½å¾—åˆ°â€œæ˜¯/å¦â€ï¼Œä½†â€œä½ æœ€å–œæ¬¢æ•…äº‹çš„å“ªä¸€éƒ¨åˆ†ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿâ€ ä¼šå¼•å‘æ›´ç²¾å½©çš„è®¨è®ºã€‚</p>
        <p>é€šè¿‡å¼€æ”¾å¼é—®é¢˜ï¼Œæˆ‘ä»¬èƒ½æ›´å¥½åœ°äº†è§£åˆ«äººå’Œè‡ªå·± ğŸ§ ã€‚å®ƒè®©æ™®é€šçš„å¯¹è¯å˜å¾—æœ‰æ„ä¹‰ï¼Œç”šè‡³æ”¹å˜æˆ‘ä»¬çš„æ€ç»´æ–¹å¼ã€‚</p>
  
        <h3>å°é—­å¼é—®é¢˜ ğŸšª</h3>
        <p>å°é—­å¼é—®é¢˜é€šå¸¸åªéœ€è¦ç®€çŸ­å›ç­” ğŸ“Šã€‚ä¾‹å¦‚ï¼šâ€œä½ å®Œæˆä½œä¸šäº†å—ï¼Ÿâ€ æˆ– â€œä»Šå¤©ä¸‹é›¨äº†å—ï¼Ÿâ€</p>
        <p>å®ƒä»¬åœ¨è·å–å…·ä½“ä¿¡æ¯æ—¶å¾ˆé«˜æ•ˆ â±ï¸ã€‚è€å¸ˆã€åŒ»ç”Ÿã€çˆ¶æ¯éƒ½å¸¸å¸¸ä½¿ç”¨è¿™ç§é—®é¢˜æ¥å¿«é€Ÿç¡®è®¤äº‹å®ã€‚</p>
        <p>ç„¶è€Œï¼Œè¿™ç±»é—®é¢˜å¯èƒ½è®©å¯¹è¯æ˜¾å¾—æµ…æ˜¾ ğŸ’­ã€‚è¿‡å¤šä½¿ç”¨åªä¼šå¾—åˆ°â€œæ˜¯/å¦â€ï¼Œæ— æ³•å¼•å‘æ·±å…¥è®¨è®ºã€‚</p>
        <p>æ‰€ä»¥ï¼Œå¥½çš„äº¤æµéœ€è¦å¹³è¡¡ âš–ï¸ã€‚æ—¢ç”¨å°é—­å¼é—®é¢˜è·å–äº‹å®ï¼Œä¹Ÿç”¨å¼€æ”¾å¼é—®é¢˜ä¿ƒè¿›æ€è€ƒã€‚</p>
  
        <h3>æ¢ç©¶å¼é—®é¢˜ ğŸ”</h3>
        <p>æ¢ç©¶å¼é—®é¢˜æ˜¯ä¸ºäº†æ·±å…¥äº†è§£å¯¹æ–¹çš„å›ç­” ğŸŒã€‚ä¾‹å¦‚ï¼šâ€œä½ ä¸ºä»€ä¹ˆè¿™æ ·è®¤ä¸ºï¼Ÿâ€ æˆ– â€œèƒ½è¯¦ç»†è¯´è¯´å—ï¼Ÿâ€</p>
        <p>å®ƒä»¬è¡¨æ˜ä½ åœ¨è®¤çœŸå€¾å¬ ğŸ‘‚ã€‚è¿™ä¼šé¼“åŠ±å¯¹æ–¹ç»§ç»­è§£é‡Šï¼Œæä¾›æ›´å¤šç»†èŠ‚ã€‚è€å¸ˆå’Œç ”ç©¶äººå‘˜ç»å¸¸ç”¨è¿™ç§æ–¹æ³•ã€‚</p>
        <p>æ¢ç©¶å¼é—®é¢˜è¿˜å¯ä»¥æ­ç¤ºéšè—çš„æƒ³æ³•æˆ–æ„Ÿå— ğŸ¤”ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæœ‰äººè¯´â€œæˆ‘ä¸å–œæ¬¢è¿™ä¸ªé¡¹ç›®â€ï¼Œä½ å¯ä»¥è¿½é—®â€œå…·ä½“å“ªä¸€éƒ¨åˆ†ï¼Ÿâ€</p>
        <p>ä½†å¿…é¡»æ³¨æ„æ–¹å¼ ğŸ™ã€‚å¦‚æœè¯­æ°”è¿‡äºå¼ºç¡¬ï¼Œå¯¹æ–¹ä¼šæ„Ÿåˆ°æœ‰å‹åŠ›ã€‚å‹å¥½åœ°ä½¿ç”¨ï¼Œæ‰èƒ½å»ºç«‹æ›´æ·±çš„ç†è§£ã€‚</p>
  
        <h3>æ¾„æ¸…å¼é—®é¢˜ ğŸ’¡</h3>
        <p>æ¾„æ¸…å¼é—®é¢˜ç”¨æ¥ç¡®è®¤åŒæ–¹çš„ç†è§£æ˜¯å¦ä¸€è‡´ âœ…ã€‚ä¾‹å¦‚ï¼šâ€œä½ æ˜¯æŒ‡ä½œä¸šå¤ªéš¾ï¼Œè¿˜æ˜¯æ—¶é—´ä¸å¤Ÿï¼Ÿâ€</p>
        <p>è¿™ç§é—®é¢˜åœ¨å›¢é˜Ÿåˆä½œå’Œè¯¾å ‚ä¸­å¾ˆé‡è¦ ğŸ‘©â€ğŸ«ã€‚å®ƒé¿å…è¯¯ä¼šï¼Œç¡®ä¿å¤§å®¶åœ¨åŒä¸€é¢‘é“ã€‚</p>
        <p>æ¾„æ¸…å¼é—®é¢˜èƒ½å»ºç«‹ä¿¡ä»» ğŸ¤ã€‚å¯¹æ–¹ä¼šè§‰å¾—ä½ é‡è§†ä»–ä»¬çš„è¯è¯­ï¼Œä»è€Œæ›´æ„¿æ„åˆä½œã€‚</p>
        <p>æ€»ä¹‹ï¼Œæ¾„æ¸…å¼é—®é¢˜è®©æ²Ÿé€šæ›´æ¸…æ™° ğŸ—ï¸ã€‚å®ƒä¿è¯å¯¹è¯æœ‰æ•ˆï¼Œå‡å°‘é”™è¯¯ï¼Œæé«˜æ•ˆç‡ã€‚</p>
      `,
      bins: ["å¼€æ”¾å¼", "å°é—­å¼", "æ¢ç©¶å¼", "æ¾„æ¸…å¼"],
    }
  };
  const questions = {
    en: {
      easy: [
        { text: "What is your favorite color?", type: "open" },
        { text: "What food do you like most?", type: "open" },
        { text: "What do you like to do after school?", type: "open" },
        { text: "What is your favorite sport?", type: "open" },
        { text: "Did you eat breakfast today?", type: "closed" },
        { text: "Is it sunny outside?", type: "closed" },
        { text: "Are you wearing shoes?", type: "closed" },
        { text: "Can you see the board?", type: "closed" },
        { text: "Can you tell me more about your pet?", type: "probing" },
        { text: "Why do you like that game?", type: "probing" },
        { text: "Can you explain why you like pizza?", type: "probing" },
        { text: "What makes you laugh the most?", type: "probing" },
        { text: "Do you mean your dog or your cat?", type: "clarifying" },
        { text: "When you said 'fun,' did you mean exciting or relaxing?", type: "clarifying" },
        { text: "Do you mean your best friend at school or outside school?", type: "clarifying" },
        { text: "Did you mean yesterday or today?", type: "clarifying" }
      ],
      medium: [
        { text: "How would you describe a good friend?", type: "open" },
        { text: "What kind of books do you enjoy reading?", type: "open" },
        { text: "What do you usually do on weekends?", type: "open" },
        { text: "How do you celebrate birthdays?", type: "open" },
        { text: "Is math your favorite subject?", type: "closed" },
        { text: "Did you watch the news yesterday?", type: "closed" },
        { text: "Are you in grade 7?", type: "closed" },
        { text: "Is this classroom big?", type: "closed" },
        { text: "Why do you think group work is important?", type: "probing" },
        { text: "Can you tell me more about why that story inspired you?", type: "probing" },
        { text: "Why do you enjoy playing with your friends?", type: "probing" },
        { text: "Can you explain how you solved that problem?", type: "probing" },
        { text: "Do you mean the whole team, or just a few people?", type: "clarifying" },
        { text: "When you said 'difficult,' did you mean confusing or too much work?", type: "clarifying" },
        { text: "Did you mean your family or your friends?", type: "clarifying" },
        { text: "Do you mean summer vacation or winter vacation?", type: "clarifying" }
      ],
      hard: [
        { text: "What are the benefits of learning another language?", type: "open" },
        { text: "How would you solve a conflict between two friends?", type: "open" },
        { text: "What can schools do to reduce bullying?", type: "open" },
        { text: "How do you think technology changes society?", type: "open" },
        { text: "Have you ever traveled outside your city?", type: "closed" },
        { text: "Can people live without social media?", type: "closed" },
        { text: "Is pollution a big problem in your town?", type: "closed" },
        { text: "Do you think homework is necessary?", type: "closed" },
        { text: "Why do you believe technology changes society?", type: "probing" },
        { text: "Can you explain why different cultures may see this issue differently?", type: "probing" },
        { text: "Why do you think some people avoid reading?", type: "probing" },
        { text: "What makes teamwork harder for some people?", type: "probing" },
        { text: "Do you mean technology in school, or in daily life?", type: "clarifying" },
        { text: "When you said 'unfair,' do you mean unfair to you or unfair to everyone?", type: "clarifying" },
        { text: "Do you mean the government or the people?", type: "clarifying" },
        { text: "Are you talking about the past or the future?", type: "clarifying" }
      ]
    },
    tr: {
      easy: [
        { text: "En sevdiÄŸin renk nedir?", type: "open" },
        { text: "En sevdiÄŸin yemek hangisi?", type: "open" },
        { text: "Okuldan sonra ne yapmayÄ± seversin?", type: "open" },
        { text: "En sevdiÄŸin spor nedir?", type: "open" },
        { text: "BugÃ¼n kahvaltÄ± yaptÄ±n mÄ±?", type: "closed" },
        { text: "BugÃ¼n hava gÃ¼neÅŸli mi?", type: "closed" },
        { text: "AyakkabÄ± giyiyor musun?", type: "closed" },
        { text: "TahtayÄ± gÃ¶rebiliyor musun?", type: "closed" },
        { text: "Bana evcil hayvanÄ±ndan biraz daha bahseder misin?", type: "probing" },
        { text: "Neden o oyunu seviyorsun?", type: "probing" },
        { text: "Pizzaâ€™yÄ± neden sevdiÄŸini aÃ§Ä±klayabilir misin?", type: "probing" },
        { text: "Seni en Ã§ok ne gÃ¼ldÃ¼rÃ¼r?", type: "probing" },
        { text: "KÃ¶peÄŸini mi kastettin yoksa kedini mi?", type: "clarifying" },
        { text: "'EÄŸlenceli' derken heyecanlÄ± mÄ± yoksa rahatlatÄ±cÄ± mÄ±?", type: "clarifying" },
        { text: "En iyi arkadaÅŸÄ±nÄ± okuldan mÄ± yoksa dÄ±ÅŸarÄ±dan mÄ± kastettin?", type: "clarifying" },
        { text: "DÃ¼nÃ¼ mÃ¼ kastettin yoksa bugÃ¼nÃ¼ mÃ¼?", type: "clarifying" }
      ],
      medium: [
        { text: "Ä°yi bir arkadaÅŸ nasÄ±l olur?", type: "open" },
        { text: "Hangi tÃ¼r kitaplarÄ± okumaktan hoÅŸlanÄ±rsÄ±n?", type: "open" },
        { text: "Hafta sonlarÄ± genelde ne yaparsÄ±n?", type: "open" },
        { text: "DoÄŸum gÃ¼nlerini nasÄ±l kutlarsÄ±n?", type: "open" },
        { text: "Matematik senin en sevdiÄŸin ders mi?", type: "closed" },
        { text: "DÃ¼n haberleri izledin mi?", type: "closed" },
        { text: "Sen 7. sÄ±nÄ±fta mÄ±sÄ±n?", type: "closed" },
        { text: "Bu sÄ±nÄ±f bÃ¼yÃ¼k mÃ¼?", type: "closed" },
        { text: "Neden grup Ã§alÄ±ÅŸmasÄ±nÄ±n Ã¶nemli olduÄŸunu dÃ¼ÅŸÃ¼nÃ¼yorsun?", type: "probing" },
        { text: "O hikayenin seni neden etkilediÄŸini biraz daha anlatÄ±r mÄ±sÄ±n?", type: "probing" },
        { text: "ArkadaÅŸlarÄ±nla oynamayÄ± neden seviyorsun?", type: "probing" },
        { text: "Bu sorunu nasÄ±l Ã§Ã¶zdÃ¼ÄŸÃ¼nÃ¼ aÃ§Ä±klayabilir misin?", type: "probing" },
        { text: "BÃ¼tÃ¼n takÄ±mÄ± mÄ±, yoksa sadece birkaÃ§ kiÅŸiyi mi kastettin?", type: "clarifying" },
        { text: "'Zordu' derken kafa karÄ±ÅŸtÄ±rÄ±cÄ± mÄ± yoksa Ã§ok mu iÅŸ vardÄ±?", type: "clarifying" },
        { text: "Aileni mi yoksa arkadaÅŸlarÄ±nÄ± mÄ± kastettin?", type: "clarifying" },
        { text: "Yaz tatilini mi yoksa kÄ±ÅŸ tatilini mi kastettin?", type: "clarifying" }
      ],
      hard: [
        { text: "BaÅŸka bir dil Ã¶ÄŸrenmenin faydalarÄ± nelerdir?", type: "open" },
        { text: "Ä°ki arkadaÅŸ arasÄ±ndaki bir sorunu nasÄ±l Ã§Ã¶zerdin?", type: "open" },
        { text: "Okullarda zorbalÄ±ÄŸÄ± azaltmak iÃ§in ne yapÄ±labilir?", type: "open" },
        { text: "Sence teknoloji toplumu nasÄ±l deÄŸiÅŸtiriyor?", type: "open" },
        { text: "HiÃ§ ÅŸehir dÄ±ÅŸÄ±na seyahat ettin mi?", type: "closed" },
        { text: "Sosyal medya olmadan insanlar yaÅŸayabilir mi?", type: "closed" },
        { text: "Åehrinde kirlilik bÃ¼yÃ¼k bir sorun mu?", type: "closed" },
        { text: "Ã–dev gerekli mi?", type: "closed" },
        { text: "Neden teknolojinin toplumu deÄŸiÅŸtirdiÄŸine inanÄ±yorsun?", type: "probing" },
        { text: "FarklÄ± kÃ¼ltÃ¼rlerin bu konuyu neden farklÄ± gÃ¶rebileceÄŸini aÃ§Ä±klayabilir misin?", type: "probing" },
        { text: "Neden bazÄ± insanlar kitap okumaktan kaÃ§Ä±nÄ±r?", type: "probing" },
        { text: "TakÄ±m Ã§alÄ±ÅŸmasÄ±nÄ± zorlaÅŸtÄ±ran ÅŸeyler nelerdir?", type: "probing" },
        { text: "Okuldaki teknolojiyi mi, yoksa gÃ¼nlÃ¼k yaÅŸamÄ± mÄ± kastettin?", type: "clarifying" },
        { text: "'Adil deÄŸil' derken sadece sana mÄ± yoksa herkese mi adil deÄŸil demek istedin?", type: "clarifying" },
        { text: "Devleti mi yoksa insanlarÄ± mÄ± kastettin?", type: "clarifying" },
        { text: "GeÃ§miÅŸi mi kastettin yoksa geleceÄŸi mi?", type: "clarifying" }
      ]
    },
    zh: {
      easy: [
        { text: "ä½ æœ€å–œæ¬¢çš„é¢œè‰²æ˜¯ä»€ä¹ˆï¼Ÿ", type: "open" },
        { text: "ä½ æœ€å–œæ¬¢çš„é£Ÿç‰©æ˜¯ä»€ä¹ˆï¼Ÿ", type: "open" },
        { text: "æ”¾å­¦åä½ å–œæ¬¢åšä»€ä¹ˆï¼Ÿ", type: "open" },
        { text: "ä½ æœ€å–œæ¬¢çš„è¿åŠ¨æ˜¯ä»€ä¹ˆï¼Ÿ", type: "open" },
        { text: "ä½ ä»Šå¤©åƒæ—©é¤äº†å—ï¼Ÿ", type: "closed" },
        { text: "ä»Šå¤©æ˜¯æ™´å¤©å—ï¼Ÿ", type: "closed" },
        { text: "ä½ ç©¿é‹å­äº†å—ï¼Ÿ", type: "closed" },
        { text: "ä½ èƒ½çœ‹åˆ°é»‘æ¿å—ï¼Ÿ", type: "closed" },
        { text: "ä½ èƒ½å¤šè®²ä¸€ç‚¹ä½ çš„å® ç‰©å—ï¼Ÿ", type: "probing" },
        { text: "ä½ ä¸ºä»€ä¹ˆå–œæ¬¢é‚£ä¸ªæ¸¸æˆï¼Ÿ", type: "probing" },
        { text: "ä½ èƒ½è§£é‡Šä¸€ä¸‹ä¸ºä»€ä¹ˆå–œæ¬¢æŠ«è¨å—ï¼Ÿ", type: "probing" },
        { text: "ä»€ä¹ˆäº‹æƒ…æœ€è®©ä½ å‘ç¬‘ï¼Ÿ", type: "probing" },
        { text: "ä½ æ˜¯æŒ‡ç‹—è¿˜æ˜¯çŒ«ï¼Ÿ", type: "clarifying" },
        { text: "å½“ä½ è¯´â€˜æœ‰è¶£â€™æ—¶ï¼Œæ˜¯æŒ‡åˆºæ¿€è¿˜æ˜¯æ”¾æ¾ï¼Ÿ", type: "clarifying" },
        { text: "ä½ æ˜¯æŒ‡å­¦æ ¡çš„æœ‹å‹è¿˜æ˜¯å¤–é¢çš„æœ‹å‹ï¼Ÿ", type: "clarifying" },
        { text: "ä½ æ˜¯æŒ‡æ˜¨å¤©è¿˜æ˜¯ä»Šå¤©ï¼Ÿ", type: "clarifying" }
      ],
      medium: [
        { text: "ä½ è§‰å¾—ä¸€ä¸ªå¥½æœ‹å‹åº”è¯¥æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ", type: "open" },
        { text: "ä½ å–œæ¬¢è¯»ä»€ä¹ˆç±»å‹çš„ä¹¦ï¼Ÿ", type: "open" },
        { text: "ä½ å‘¨æœ«é€šå¸¸åšä»€ä¹ˆï¼Ÿ", type: "open" },
        { text: "ä½ æ€ä¹ˆåº†ç¥ç”Ÿæ—¥ï¼Ÿ", type: "open" },
        { text: "æ•°å­¦æ˜¯ä½ æœ€å–œæ¬¢çš„ç§‘ç›®å—ï¼Ÿ", type: "closed" },
        { text: "ä½ æ˜¨å¤©çœ‹æ–°é—»äº†å—ï¼Ÿ", type: "closed" },
        { text: "ä½ æ˜¯ä¸ƒå¹´çº§å—ï¼Ÿ", type: "closed" },
        { text: "è¿™ä¸ªæ•™å®¤å¤§å—ï¼Ÿ", type: "closed" },
        { text: "ä½ ä¸ºä»€ä¹ˆè§‰å¾—å°ç»„åˆä½œå¾ˆé‡è¦ï¼Ÿ", type: "probing" },
        { text: "ä½ èƒ½å¤šè§£é‡Šä¸€ä¸‹ä¸ºä»€ä¹ˆé‚£ä¸ªæ•…äº‹è®©ä½ å—å¯å‘å—ï¼Ÿ", type: "probing" },
        { text: "ä½ ä¸ºä»€ä¹ˆå–œæ¬¢å’Œæœ‹å‹ä¸€èµ·ç©ï¼Ÿ", type: "probing" },
        { text: "ä½ èƒ½è§£é‡Šä¸€ä¸‹ä½ æ˜¯å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜çš„å—ï¼Ÿ", type: "probing" },
        { text: "ä½ æ˜¯æŒ‡æ•´ä¸ªå›¢é˜Ÿè¿˜æ˜¯éƒ¨åˆ†äººï¼Ÿ", type: "clarifying" },
        { text: "å½“ä½ è¯´â€˜å›°éš¾â€™æ—¶ï¼Œæ˜¯æŒ‡éš¾ç†è§£è¿˜æ˜¯å·¥ä½œé‡å¤§ï¼Ÿ", type: "clarifying" },
        { text: "ä½ æ˜¯æŒ‡å®¶äººè¿˜æ˜¯æœ‹å‹ï¼Ÿ", type: "clarifying" },
        { text: "ä½ æ˜¯æŒ‡æš‘å‡è¿˜æ˜¯å¯’å‡ï¼Ÿ", type: "clarifying" }
      ],
      hard: [
        { text: "å­¦ä¹ å¦ä¸€ç§è¯­è¨€æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ", type: "open" },
        { text: "å¦‚æœä¸¤ä¸ªæœ‹å‹å‘ç”Ÿå†²çªï¼Œä½ ä¼šå¦‚ä½•è§£å†³ï¼Ÿ", type: "open" },
        { text: "å­¦æ ¡å¯ä»¥åšäº›ä»€ä¹ˆæ¥å‡å°‘æ¬ºå‡Œï¼Ÿ", type: "open" },
        { text: "ä½ è®¤ä¸ºç§‘æŠ€å¦‚ä½•æ”¹å˜ç¤¾ä¼šï¼Ÿ", type: "open" },
        { text: "ä½ æ›¾ç»å»è¿‡ä½ æ‰€åœ¨åŸå¸‚ä»¥å¤–çš„åœ°æ–¹å—ï¼Ÿ", type: "closed" },
        { text: "äººç±»å¯ä»¥æ²¡æœ‰ç¤¾äº¤åª’ä½“ç”Ÿæ´»å—ï¼Ÿ", type: "closed" },
        { text: "æ±¡æŸ“åœ¨ä½ çš„åŸå¸‚æ˜¯ä¸€ä¸ªå¤§é—®é¢˜å—ï¼Ÿ", type: "closed" },
        { text: "ä½œä¸šæœ‰å¿…è¦å—ï¼Ÿ", type: "closed" },
        { text: "ä½ ä¸ºä»€ä¹ˆè®¤ä¸ºç§‘æŠ€ä¼šæ”¹å˜ç¤¾ä¼šï¼Ÿ", type: "probing" },
        { text: "ä½ èƒ½è§£é‡Šä¸€ä¸‹ä¸ºä»€ä¹ˆä¸åŒæ–‡åŒ–ä¼šå¯¹è¿™ä¸ªé—®é¢˜æœ‰ä¸åŒçœ‹æ³•å—ï¼Ÿ", type: "probing" },
        { text: "ä½ ä¸ºä»€ä¹ˆè§‰å¾—æœ‰äº›äººä¸å–œæ¬¢è¯»ä¹¦ï¼Ÿ", type: "probing" },
        { text: "æ˜¯ä»€ä¹ˆè®©å›¢é˜Ÿåˆä½œå˜å¾—å›°éš¾ï¼Ÿ", type: "probing" },
        { text: "ä½ æ˜¯æŒ‡å­¦æ ¡é‡Œçš„ç§‘æŠ€è¿˜æ˜¯æ—¥å¸¸ç”Ÿæ´»ä¸­çš„ç§‘æŠ€ï¼Ÿ", type: "clarifying" },
        { text: "å½“ä½ è¯´â€˜ä¸å…¬å¹³â€™æ—¶ï¼Œæ˜¯æŒ‡å¯¹ä½ ä¸å…¬å¹³è¿˜æ˜¯å¯¹å¤§å®¶ä¸å…¬å¹³ï¼Ÿ", type: "clarifying" },
        { text: "ä½ æ˜¯æŒ‡æ”¿åºœè¿˜æ˜¯äººæ°‘ï¼Ÿ", type: "clarifying" },
        { text: "ä½ è¯´çš„æ˜¯è¿‡å»è¿˜æ˜¯æœªæ¥ï¼Ÿ", type: "clarifying" }
      ]
    }
  };
  let currentLang = "en";
  let difficulty = "easy";
  let score = 0, streak = 0, lives = 3, speed = 1, dropInterval = 3000, activeQuestion = null, gameRunning = false;
  const startScreen = document.getElementById("startScreen");
  const learnScreen = document.getElementById("learnScreen");
  const gameArea = document.getElementById("gameArea");
  const bins = document.querySelectorAll(".bin");
  const scoreboard = document.getElementById("scoreboard");
  const livesBoard = document.getElementById("lives");
  const learnText = document.getElementById("learnText");
  const gameOverScreen = document.getElementById("gameOverScreen");
  const finalScore = document.getElementById("finalScore");
  function highlightSelection(group, selectedId) {
    group.forEach(id => {
      document.getElementById(id).classList.remove("selected");
    });
    document.getElementById(selectedId).classList.add("selected");
  }
  function selectLanguage(lang) {
    currentLang = lang;
    const labels = texts[lang].bins;
    bins.forEach((bin, i) => bin.innerText = labels[i]);
    highlightSelection(["btn-en", "btn-tr", "btn-zh"], "btn-" + lang);
  }
  function selectDifficulty(level) {
    difficulty = level;
    if (level === "easy") { speed = 1; dropInterval = 3000; }
    if (level === "medium") { speed = 1.5; dropInterval = 2000; }
    if (level === "hard") { speed = 2; dropInterval = 1500; }
    highlightSelection(["btn-easy", "btn-medium", "btn-hard"], "btn-" + level);
  }
  function showLearn() {
    startScreen.style.display = "none";
    learnScreen.style.display = "flex";
    learnText.innerHTML = texts[currentLang].learn;
  }
  function backToStart() {
    learnScreen.style.display = "none";
    startScreen.style.display = "flex";
  }
// In the <script> section, find spawnQuestion
function spawnQuestion() {
  const pool = questions[currentLang][difficulty];
  const q = pool[Math.floor(Math.random() * pool.length)];
  const div = document.createElement("div");
  div.className = "question";
  div.innerText = q.text;
  div.style.top = "0px";
  div.style.left = Math.random() * (window.innerWidth - 220) + "px";
  div.draggable = true;
  div.dataset.type = q.type;

  div.ondragstart = () => {
    activeQuestion = div;
    div.style.zIndex = 100; // âœ… ADD THIS LINE to bring to front
    setTimeout(() => (div.style.display = "none"), 0);
  };
  div.ondragend = () => {
    div.style.zIndex = 'auto'; // âœ… ADD THIS LINE to reset layer
    div.style.display = "block";
  };

  gameArea.appendChild(div);

  const fall = setInterval(() => {
    if (!document.body.contains(div) || !gameRunning) {
      clearInterval(fall);
      return;
    }
    let top = parseInt(div.style.top);
    div.style.top = top + speed + "px";
    if (top > gameArea.clientHeight - 50) {
      if (gameArea.contains(div)) gameArea.removeChild(div);
      lives -= 1;
      updateScore();
      if (lives <= 0) endGame();
      clearInterval(fall);
    }
  }, 20);
}
  bins.forEach((bin) => {
    bin.ondragover = (e) => e.preventDefault();
    bin.ondrop = (e) => {
      e.preventDefault();
      if (!activeQuestion) return;
      activeQuestion.style.display = "block";
      if (activeQuestion.dataset.type === bin.dataset.type) {
        bin.classList.add("correct");
        setTimeout(() => bin.classList.remove("correct"), 500);
        score += 10;
        streak++;
        if (streak % 3 === 0) score += 10;
      } else {
        bin.classList.add("wrong");
        setTimeout(() => bin.classList.remove("wrong"), 500);
        streak = 0;
        lives--;
      }
      updateScore();
      if (lives <= 0) endGame();
      if (activeQuestion.parentNode) activeQuestion.remove();
      activeQuestion = null;
    };
  });
  function updateScore() {
    scoreboard.innerText = `Score: ${score} | Streak: ${streak}`;
    livesBoard.innerText = `Lives: ${lives}`;
  }
  function gameLoop() {
    if (!gameRunning) return;
    spawnQuestion();
    setTimeout(gameLoop, dropInterval);
  }
 // Find the touch event listeners
gameArea.addEventListener("touchstart", (e) => {
  if (e.target.classList.contains("question")) {
    activeQuestion = e.target;
    activeQuestion.style.position = "absolute";
    activeQuestion.style.zIndex = 100; // âœ… ADD THIS LINE
  }
});

gameArea.addEventListener("touchmove", (e) => {
  if (activeQuestion) {
    e.preventDefault(); 
    const touch = e.touches[0];
    activeQuestion.style.left = (touch.clientX - 100) + "px";
    activeQuestion.style.top = (touch.clientY - 30) + "px";
  }
});

gameArea.addEventListener("touchend", (e) => {
  if (activeQuestion) {
    activeQuestion.style.zIndex = 'auto'; // âœ… ADD THIS LINE to reset layer
    const touch = e.changedTouches[0];
    const dropTarget = document.elementFromPoint(touch.clientX, touch.clientY);

    if (dropTarget && dropTarget.classList.contains("bin")) {
      // (rest of the code is unchanged)
      if (activeQuestion.dataset.type === dropTarget.dataset.type) {
        dropTarget.classList.add("correct");
        setTimeout(() => dropTarget.classList.remove("correct"), 500);
        score += 10;
        streak++;
      } else {
        dropTarget.classList.add("wrong");
        setTimeout(() => dropTarget.classList.remove("wrong"), 500);
        streak = 0;
        lives--;
      }
      updateScore();
      if (lives <= 0) endGame();
      activeQuestion.remove();
    }
    activeQuestion = null;
  }
});
  function startGame() {
    score = 0;
    streak = 0;
    lives = 3;
    updateScore();
    startScreen.style.display = "none";
    gameOverScreen.style.display = "none";
    gameArea.style.display = "block";
    document.getElementById("bins").style.display = "flex";
    gameRunning = true;
    gameLoop();
  }
  document.getElementById("btn-start").addEventListener("click", startGame);
  function endGame() {
    gameRunning = false;
    document.querySelectorAll('.question').forEach(q => q.remove()); // Clear remaining questions
    gameArea.style.display = "none";
    finalScore.innerText = `Final Score: ${score}`;
    gameOverScreen.style.display = "flex";
  }
  function restartGame() {
    gameOverScreen.style.display = "none";
    startScreen.style.display = "flex";
  }
  // Set defaults
  selectLanguage("en");
  selectDifficulty("easy");
  startScreen.style.display = "flex";
</script>
</body>
</html>
