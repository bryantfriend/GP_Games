<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paragraph Builder Game</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='%239CA3AF' fill-opacity='0.1'%3E%3Cpath opacity='.5' d='M96 95h4v1h-4v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9zm-1 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }
        .slide {
            display: none;
        }
        .slide.active {
            display: block;
        }
        .option-card {
            transition: all 0.2s ease-in-out;
            cursor: pointer;
        }
        .option-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        .option-card.selected {
            border-color: #3b82f6;
            background-color: #eff6ff;
        }
        .option-card.correct {
            border-color: #22c55e;
            background-color: #f0fdf4;
        }
        .option-card.incorrect {
            border-color: #ef4444;
            background-color: #fef2f2;
        }
        .drop-zone {
            min-height: 50px;
            border: 2px dashed #9ca3af;
            background-color: #f9fafb;
            transition: background-color 0.2s;
        }
        .drop-zone.over {
            background-color: #e5e7eb;
        }
        .draggable {
            cursor: grab;
        }
        .draggable:active {
            cursor: grabbing;
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .feedback {
            min-height: 24px;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4 sm:p-6">

    <div id="game-container" class="w-full max-w-4xl mx-auto">

        <!-- Slide 0: Language Selection -->
        <div class="slide active text-center p-8 bg-white rounded-2xl shadow-xl fade-in" data-slide="0">
            <h1 class="text-3xl sm:text-4xl font-bold text-gray-800">Select Language</h1>
            <div class="mt-8 flex flex-col sm:flex-row justify-center items-center gap-4">
                <button class="w-full sm:w-auto px-8 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition-transform transform hover:scale-105" onclick="setLanguage('en')">English</button>
                <button class="w-full sm:w-auto px-8 py-3 bg-green-600 text-white font-semibold rounded-lg shadow-md hover:bg-green-700 transition-transform transform hover:scale-105" onclick="setLanguage('tr')">TÃ¼rkÃ§e</button>
                <button class="w-full sm:w-auto px-8 py-3 bg-red-600 text-white font-semibold rounded-lg shadow-md hover:bg-red-700 transition-transform transform hover:scale-105" onclick="setLanguage('zh')">ä¸­æ–‡</button>
            </div>
        </div>

        <!-- Slide 1: Title -->
        <div class="slide text-center p-8 bg-white rounded-2xl shadow-xl fade-in" data-slide="1">
            <h1 class="text-4xl sm:text-5xl font-bold text-gray-800" data-lang-key="title">âœï¸ Writing Strong Body Paragraphs</h1>
            <p class="mt-4 text-lg sm:text-xl text-gray-600" data-lang-key="subtitle">â€œNow that weâ€™ve written great introductions â€” letâ€™s build the middle!â€</p>
            <p class="mt-2 text-sm text-gray-500" data-lang-key="grade">ğŸ‘©â€ğŸ« 6th Grade Global Perspectives</p>
            <button class="mt-8 px-8 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition-transform transform hover:scale-105" onclick="nextSlide()" data-lang-key="startButton">Let's Start!</button>
        </div>

        <!-- Slide 2: What is a Body Paragraph? -->
        <div class="slide p-6 sm:p-8 bg-white rounded-2xl shadow-xl fade-in" data-slide="2">
            <h2 class="text-2xl sm:text-3xl font-bold text-gray-800" data-lang-key="whatIsTitle">What Is a Body Paragraph?</h2>
            <ul class="mt-4 space-y-3 text-gray-700 text-lg">
                <li data-lang-key="whatIsLi1"><span class="text-blue-500 font-semibold">Itâ€™s the main part of your essay.</span></li>
                <li data-lang-key="whatIsLi2">Each paragraph focuses on <span class="text-blue-500 font-semibold">one main idea.</span></li>
                <li data-lang-key="whatIsLi3">It gives details, examples, and evidence to support your thesis.</li>
            </ul>
            <div class="mt-6 p-4 bg-yellow-100 border-l-4 border-yellow-400 rounded-r-lg">
                <p class="text-lg text-yellow-800" data-lang-key="sandwich">ğŸ’¡ Think of it as the â€œmeatâ€ of your essay sandwich! ğŸ”</p>
            </div>
            <button class="mt-8 float-right px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition" onclick="nextSlide()" data-lang-key="gotItButton">Got it!</button>
        </div>

        <!-- Slide 3: Structure -->
        <div class="slide p-6 sm:p-8 bg-white rounded-2xl shadow-xl fade-in" data-slide="3">
            <h2 class="text-2xl sm:text-3xl font-bold text-gray-800" data-lang-key="structureTitle">Structure of a Body Paragraph</h2>
            <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-4 text-center">
                <div class="p-4 bg-blue-100 rounded-lg">
                    <h3 class="font-bold text-xl text-blue-800" data-lang-key="topicSentenceTitle">1ï¸âƒ£ Topic Sentence</h3>
                    <p class="text-blue-700 mt-1" data-lang-key="topicSentenceDesc">Tells the main idea of the paragraph.</p>
                </div>
                <div class="p-4 bg-green-100 rounded-lg">
                    <h3 class="font-bold text-xl text-green-800" data-lang-key="supportingDetailsTitle">2ï¸âƒ£ Supporting Details</h3>
                    <p class="text-green-700 mt-1" data-lang-key="supportingDetailsDesc">Explain, describe, or give examples.</p>
                </div>
                <div class="p-4 bg-purple-100 rounded-lg">
                    <h3 class="font-bold text-xl text-purple-800" data-lang-key="concludingSentenceTitle">3ï¸âƒ£ Concluding Sentence</h3>
                    <p class="text-purple-700 mt-1" data-lang-key="concludingSentenceDesc">Wraps up and connects to the next paragraph.</p>
                </div>
            </div>
            <div class="mt-6 p-4 bg-red-100 border-l-4 border-red-400 rounded-r-lg">
                <p class="text-lg text-red-800" data-lang-key="oneIdea">ğŸ¯ One main idea per paragraph!</p>
            </div>
            <button class="mt-8 float-right px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition" onclick="nextSlide()" data-lang-key="nextButton">Next</button>
        </div>

        <!-- Slide 4: Step 1 Game -->
        <div class="slide p-6 sm:p-8 bg-white rounded-2xl shadow-xl fade-in" data-slide="4">
            <h2 class="text-2xl sm:text-3xl font-bold text-gray-800" data-lang-key="step1Title">Step 1: Write a Strong Topic Sentence</h2>
            <p class="mt-2 text-gray-600" data-lang-key="step1Desc">Your topic sentence clearly states what the paragraph is about. Let's try it!</p>
            <div class="mt-4 p-4 bg-gray-100 rounded-lg">
                <p class="font-semibold text-lg" data-lang-key="step1Topic">Topic: The benefits of playing sports.</p>
            </div>
            <p class="mt-4 font-semibold text-gray-700" data-lang-key="step1Question">Which is the BEST topic sentence?</p>
            <div id="q1-options" class="mt-2 space-y-3">
                <div class="option-card border-2 border-gray-200 p-4 rounded-lg" onclick="checkAnswer(this, false, 'q1_feedback_wrong1')">
                    <p data-lang-key="step1Opt1">For example, soccer helps you run faster and improves teamwork.</p>
                </div>
                <div class="option-card border-2 border-gray-200 p-4 rounded-lg" onclick="checkAnswer(this, true, 'q1_feedback_correct')">
                    <p data-lang-key="step1Opt2">Playing sports is a great way for kids to stay healthy and learn important life skills.</p>
                </div>
                <div class="option-card border-2 border-gray-200 p-4 rounded-lg" onclick="checkAnswer(this, false, 'q1_feedback_wrong2')">
                    <p data-lang-key="step1Opt3">Therefore, everyone should join a sports team to have fun and get exercise.</p>
                </div>
            </div>
            <div id="q1-feedback" class="feedback mt-2 text-sm font-semibold"></div>
            <button class="mt-4 float-right px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition hidden" onclick="nextSlide()" data-lang-key="nextButton">Next</button>
        </div>
        
        <!-- Slide 5: Step 2 Game -->
        <div class="slide p-6 sm:p-8 bg-white rounded-2xl shadow-xl fade-in" data-slide="5">
            <h2 class="text-2xl sm:text-3xl font-bold text-gray-800" data-lang-key="step2Title">Step 2: Add Supporting Details</h2>
            <p class="mt-2 text-gray-600" data-lang-key="step2Desc">Supporting details explain and prove your point with facts, examples, or reasons.</p>
            <div class="mt-4 p-4 bg-gray-100 rounded-lg">
                <p class="font-semibold text-lg" data-lang-key="step2Topic">Topic Sentence: Taking care of a pet teaches responsibility.</p>
            </div>
            <p class="mt-4 font-semibold text-gray-700" data-lang-key="step2Question">Which TWO sentences are good supporting details?</p>
            <div id="q2-options" class="mt-2 space-y-3">
                <div class="option-card border-2 border-gray-200 p-4 rounded-lg" onclick="checkAnswerMulti(this, true)">
                    <p data-lang-key="step2Opt1">A pet needs to be fed and given water every day, which is a consistent daily chore.</p>
                </div>
                <div class="option-card border-2 border-gray-200 p-4 rounded-lg" onclick="checkAnswerMulti(this, false)">
                    <p data-lang-key="step2Opt2">My favorite type of dog is a golden retriever.</p>
                </div>
                <div class="option-card border-2 border-gray-200 p-4 rounded-lg" onclick="checkAnswerMulti(this, true)">
                    <p data-lang-key="step2Opt3">Additionally, owners must walk their pets for exercise and clean up after them.</p>
                </div>
            </div>
            <div id="q2-feedback" class="feedback mt-2 text-sm font-semibold"></div>
            <button class="mt-4 float-right px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition hidden" onclick="nextSlide()" data-lang-key="nextButton">Next</button>
        </div>

        <!-- Slide 6: Step 3 Game -->
        <div class="slide p-6 sm:p-8 bg-white rounded-2xl shadow-xl fade-in" data-slide="6">
            <h2 class="text-2xl sm:text-3xl font-bold text-gray-800" data-lang-key="step3Title">Step 3: End with a Concluding Sentence</h2>
            <p class="mt-2 text-gray-600" data-lang-key="step3Desc">Your concluding sentence should wrap up your paragraph's point in a new way.</p>
            <div class="mt-4 p-4 bg-gray-100 rounded-lg">
                 <p class="font-semibold text-sm" data-lang-key="step3Topic">Topic Sentence: Social media helps people stay connected with friends and family.</p>
                 <p class="text-sm text-gray-600" data-lang-key="step3Support">Support: It allows instant communication across long distances and people can share photos and updates easily.</p>
            </div>
            <p class="mt-4 font-semibold text-gray-700" data-lang-key="step3Question">Which is the BEST concluding sentence?</p>
            <div id="q3-options" class="mt-2 space-y-3">
                <div class="option-card border-2 border-gray-200 p-4 rounded-lg" onclick="checkAnswer(this, false, 'q3_feedback_wrong1')">
                    <p data-lang-key="step3Opt1">Another reason social media is useful is for finding news.</p>
                </div>
                 <div class="option-card border-2 border-gray-200 p-4 rounded-lg" onclick="checkAnswer(this, true, 'q3_feedback_correct')">
                    <p data-lang-key="step3Opt2">Because it bridges distances and makes sharing simple, social media is a powerful tool for maintaining relationships.</p>
                </div>
                <div class="option-card border-2 border-gray-200 p-4 rounded-lg" onclick="checkAnswer(this, false, 'q3_feedback_wrong2')">
                    <p data-lang-key="step3Opt3">For example, you can video chat with grandparents who live far away.</p>
                </div>
            </div>
            <div id="q3-feedback" class="feedback mt-2 text-sm font-semibold"></div>
            <button class="mt-4 float-right px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition hidden" onclick="nextSlide()" data-lang-key="nextButton">Next</button>
        </div>

        <!-- Slide 7: Paragraph Formula -->
        <div class="slide p-6 sm:p-8 bg-white rounded-2xl shadow-xl fade-in" data-slide="7">
            <h2 class="text-2xl sm:text-3xl font-bold text-gray-800" data-lang-key="formulaTitle">ğŸ§© The Perfect Paragraph Formula</h2>
            <div class="mt-4 text-center text-xl sm:text-2xl font-bold text-gray-700 p-6 bg-gray-50 rounded-lg flex flex-wrap items-center justify-center gap-2 sm:gap-4">
                <span class="p-3 bg-blue-200 text-blue-800 rounded-lg" data-lang-key="formulaTopic">Topic Sentence</span>
                <span>+</span>
                <span class="p-3 bg-green-200 text-green-800 rounded-lg" data-lang-key="formulaSupport">2-3 Supporting Sentences</span>
                <span>+</span>
                <span class="p-3 bg-purple-200 text-purple-800 rounded-lg" data-lang-key="formulaConcluding">Concluding Sentence</span>
            </div>
            <p class="mt-6 text-lg text-gray-600" data-lang-key="formulaDesc">Now, let's practice building one from scratch!</p>
            <button class="mt-8 float-right px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition" onclick="nextSlide()" data-lang-key="buildButton">Let's Build!</button>
        </div>

        <!-- Slide 8: Group Practice Activity -->
        <div class="slide p-6 sm:p-8 bg-white rounded-2xl shadow-xl fade-in" data-slide="8">
            <h2 class="text-2xl sm:text-3xl font-bold text-gray-800" data-lang-key="practiceTitle">ğŸ’¡ Group Practice Activity</h2>
            <p class="mt-2 text-gray-600" data-lang-key="practiceDesc">The topic is <span class="font-bold" data-lang-key="practiceTopic">Healthy Eating</span>. Drag and drop the sentences into the correct order to build a strong paragraph.</p>
            <div class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <h3 class="font-semibold text-center mb-2" data-lang-key="yourParagraph">Your Paragraph</h3>
                    <div id="drop-zone" class="p-3 space-y-2 rounded-lg drop-zone"></div>
                </div>
                <div>
                    <h3 class="font-semibold text-center mb-2" data-lang-key="sentenceBank">Sentence Bank</h3>
                    <div id="sentence-bank" class="p-3 space-y-2 rounded-lg bg-gray-100 drop-zone">
                        <div class="draggable p-3 bg-white rounded-md shadow-sm border border-gray-200" draggable="true" data-order="4" data-lang-key="practiceOpt4">As a result, choosing healthy foods is essential for a long and active life.</div>
                        <div class="draggable p-3 bg-white rounded-md shadow-sm border border-gray-200" draggable="true" data-order="1" data-lang-key="practiceOpt1">Eating a balanced diet is crucial for keeping your body and mind strong.</div>
                        <div class="draggable p-3 bg-white rounded-md shadow-sm border border-gray-200" draggable="true" data-order="3" data-lang-key="practiceOpt3">Furthermore, nutritious food like fruits and vegetables provide vitamins that help you focus in school.</div>
                        <div class="draggable p-3 bg-white rounded-md shadow-sm border border-gray-200" draggable="true" data-order="2" data-lang-key="practiceOpt2">For instance, foods rich in protein help build muscles, while carbohydrates provide energy for daily activities.</div>
                    </div>
                </div>
            </div>
            <div id="q4-feedback" class="feedback mt-2 text-sm font-semibold text-center"></div>
            <button id="check-order-btn" class="mt-4 block mx-auto px-6 py-2 bg-green-600 text-white font-semibold rounded-lg shadow-md hover:bg-green-700 transition" onclick="checkOrder()" data-lang-key="checkOrderButton">Check Order</button>
            <button class="mt-4 float-right px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition hidden" onclick="nextSlide()" data-lang-key="nextButton">Next</button>
        </div>

        <!-- Slide 9: Transition Words -->
        <div class="slide p-6 sm:p-8 bg-white rounded-2xl shadow-xl fade-in" data-slide="9">
            <h2 class="text-2xl sm:text-3xl font-bold text-gray-800" data-lang-key="transitionsTitle">ğŸª„ Transition Words Bank</h2>
            <p class="mt-2 text-gray-600" data-lang-key="transitionsDesc">Transitions make your writing flow smoothly. Choose the best transition word to complete the sentence.</p>
            <div class="mt-6 p-4 bg-gray-100 rounded-lg text-lg">
                <p data-lang-key="transitionsSentence">Pollution harms the environment; <span class="font-bold underline underline-offset-4" id="blank-space">_________</span>, dirty air can cause health problems.</p>
            </div>
            <div id="q5-options" class="mt-4 flex flex-wrap justify-center gap-3">
                <button class="option-card border-2 border-gray-200 px-4 py-2 rounded-lg bg-white" onclick="checkAnswer(this, false, 'q5_feedback_wrong1')" data-lang-key="transitionsOpt1">For example</button>
                <button class="option-card border-2 border-gray-200 px-4 py-2 rounded-lg bg-white" onclick="checkAnswer(this, false, 'q5_feedback_wrong2')" data-lang-key="transitionsOpt2">Finally</button>
                <button class="option-card border-2 border-gray-200 px-4 py-2 rounded-lg bg-white" onclick="checkAnswer(this, true, 'q5_feedback_correct')" data-lang-key="transitionsOpt3">In addition</button>
            </div>
            <div id="q5-feedback" class="feedback mt-2 text-sm font-semibold text-center"></div>
            <button class="mt-4 float-right px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition hidden" onclick="nextSlide()" data-lang-key="nextButton">Next</button>
        </div>

        <!-- Slide 10: Final Challenge -->
        <div class="slide p-6 sm:p-8 bg-white rounded-2xl shadow-xl fade-in" data-slide="10">
            <h2 class="text-2xl sm:text-3xl font-bold text-gray-800" data-lang-key="finalTitle">ğŸ“ Final Challenge!</h2>
            <p class="mt-2 text-gray-600" data-lang-key="finalDesc">Let's put it all together. Build a paragraph on the topic: <span class="font-bold" data-lang-key="finalTopic">"Technology in schools has both advantages and disadvantages."</span></p>
            <div class="mt-6 space-y-6">
                <div>
                    <h3 class="font-semibold text-lg text-blue-700" data-lang-key="finalQ1">1. Choose your Topic Sentence:</h3>
                    <div id="final-q1-options" class="mt-2 space-y-2">
                        <div class="option-card border-2 border-gray-200 p-3 rounded-lg" onclick="checkFinalAnswer(this, true, 1)" data-lang-key="finalQ1Opt1">While technology offers many benefits for learning, it can also create distractions in the classroom.</div>
                        <div class="option-card border-2 border-gray-200 p-3 rounded-lg" onclick="checkFinalAnswer(this, false, 1)" data-lang-key="finalQ1Opt2">I like using tablets in school.</div>
                    </div>
                </div>
                <div>
                    <h3 class="font-semibold text-lg text-green-700" data-lang-key="finalQ2">2. Choose a Supporting Detail:</h3>
                    <div id="final-q2-options" class="mt-2 space-y-2">
                        <div class="option-card border-2 border-gray-200 p-3 rounded-lg" onclick="checkFinalAnswer(this, false, 2)" data-lang-key="finalQ2Opt1">In conclusion, technology is a mixed blessing.</div>
                        <div class="option-card border-2 border-gray-200 p-3 rounded-lg" onclick="checkFinalAnswer(this, true, 2)" data-lang-key="finalQ2Opt2">For example, students can use computers to research topics quickly, but they might also get sidetracked by games or social media.</div>
                    </div>
                </div>
                <div>
                    <h3 class="font-semibold text-lg text-purple-700" data-lang-key="finalQ3">3. Choose your Concluding Sentence:</h3>
                    <div id="final-q3-options" class="mt-2 space-y-2">
                         <div class="option-card border-2 border-gray-200 p-3 rounded-lg" onclick="checkFinalAnswer(this, true, 3)" data-lang-key="finalQ3Opt1">Therefore, schools must find a balance to use technology effectively without letting it hinder student focus.</div>
                         <div class="option-card border-2 border-gray-200 p-3 rounded-lg" onclick="checkFinalAnswer(this, false, 3)" data-lang-key="finalQ3Opt2">The first computer was very big.</div>
                    </div>
                </div>
            </div>
             <button class="mt-8 float-right px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition hidden" onclick="nextSlide()" data-lang-key="finishButton">Finish!</button>
        </div>

        <!-- Slide 11: Completion -->
        <div class="slide text-center p-8 bg-white rounded-2xl shadow-xl fade-in" data-slide="11">
            <h1 class="text-4xl sm:text-5xl font-bold text-green-600" data-lang-key="completeTitle">ğŸ‰ Congratulations! ğŸ‰</h1>
            <p class="mt-4 text-lg sm:text-xl text-gray-600" data-lang-key="completeSub">You've mastered the art of building strong body paragraphs. You're ready to write amazing essays!</p>
            <p class="mt-2 text-sm text-gray-500" data-lang-key="completePractice">Practice makes perfect! âœï¸</p>
            <button class="mt-8 px-8 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition-transform transform hover:scale-105" onclick="restartGame()" data-lang-key="playAgainButton">Play Again</button>
        </div>

    </div>

<script>
    let currentSlide = 0;
    const slides = document.querySelectorAll('.slide');
    let currentLang = 'en';

    const translations = {
        en: {
            title: 'âœï¸ Writing Strong Body Paragraphs',
            subtitle: 'â€œNow that weâ€™ve written great introductions â€” letâ€™s build the middle!â€',
            grade: 'ğŸ‘©â€ğŸ« 6th Grade Global Perspectives',
            startButton: "Let's Start!",
            whatIsTitle: 'What Is a Body Paragraph?',
            whatIsLi1: 'Itâ€™s the <span class="text-blue-500 font-semibold">main part</span> of your essay.',
            whatIsLi2: 'Each paragraph focuses on <span class="text-blue-500 font-semibold">one main idea.</span>',
            whatIsLi3: 'It gives details, examples, and evidence to support your thesis.',
            sandwich: 'ğŸ’¡ Think of it as the â€œmeatâ€ of your essay sandwich! ğŸ”',
            gotItButton: 'Got it!',
            nextButton: 'Next',
            structureTitle: 'Structure of a Body Paragraph',
            topicSentenceTitle: '1ï¸âƒ£ Topic Sentence',
            topicSentenceDesc: 'Tells the main idea of the paragraph.',
            supportingDetailsTitle: '2ï¸âƒ£ Supporting Details',
            supportingDetailsDesc: 'Explain, describe, or give examples.',
            concludingSentenceTitle: '3ï¸âƒ£ Concluding Sentence',
            concludingSentenceDesc: 'Wraps up and connects to the next paragraph.',
            oneIdea: 'ğŸ¯ One main idea per paragraph!',
            step1Title: 'Step 1: Write a Strong Topic Sentence',
            step1Desc: "Your topic sentence clearly states what the paragraph is about. Let's try it!",
            step1Topic: 'Topic: The benefits of playing sports.',
            step1Question: 'Which is the BEST topic sentence?',
            step1Opt1: 'For example, soccer helps you run faster and improves teamwork.',
            step1Opt2: 'Playing sports is a great way for kids to stay healthy and learn important life skills.',
            step1Opt3: 'Therefore, everyone should join a sports team to have fun and get exercise.',
            q1_feedback_wrong1: 'This is a supporting detail, not the main idea.',
            q1_feedback_correct: 'Great job! This sentence states the main idea for the whole paragraph.',
            q1_feedback_wrong2: 'This sounds like a concluding sentence. It wraps things up.',
            step2Title: 'Step 2: Add Supporting Details',
            step2Desc: 'Supporting details explain and prove your point with facts, examples, or reasons.',
            step2Topic: 'Topic Sentence: Taking care of a pet teaches responsibility.',
            step2Question: 'Which TWO sentences are good supporting details?',
            step2Opt1: 'A pet needs to be fed and given water every day, which is a consistent daily chore.',
            step2Opt2: 'My favorite type of dog is a golden retriever.',
            step2Opt3: 'Additionally, owners must walk their pets for exercise and clean up after them.',
            q2_feedback_correct: 'You found both supporting details! Excellent!',
            q2_feedback_wrong: 'Not quite. Remember, supporting details give specific examples or reasons.',
            step3Title: 'Step 3: End with a Concluding Sentence',
            step3Desc: "Your concluding sentence should wrap up your paragraph's point in a new way.",
            step3Topic: 'Topic Sentence: Social media helps people stay connected with friends and family.',
            step3Support: 'Support: It allows instant communication across long distances and people can share photos and updates easily.',
            step3Question: 'Which is the BEST concluding sentence?',
            step3Opt1: 'Another reason social media is useful is for finding news.',
            step3Opt2: 'Because it bridges distances and makes sharing simple, social media is a powerful tool for maintaining relationships.',
            step3Opt3: 'For example, you can video chat with grandparents who live far away.',
            q3_feedback_wrong1: 'This sounds like a topic sentence for a different paragraph.',
            q3_feedback_correct: 'Perfect! This sentence summarizes the main idea in a new way.',
            q3_feedback_wrong2: 'This is a specific example, which is a supporting detail.',
            formulaTitle: 'ğŸ§© The Perfect Paragraph Formula',
            formulaTopic: 'Topic Sentence',
            formulaSupport: '2-3 Supporting Sentences',
            formulaConcluding: 'Concluding Sentence',
            formulaDesc: "Now, let's practice building one from scratch!",
            buildButton: "Let's Build!",
            practiceTitle: 'ğŸ’¡ Group Practice Activity',
            practiceDesc: 'The topic is <span class="font-bold">Healthy Eating</span>. Drag and drop the sentences into the correct order to build a strong paragraph.',
            practiceTopic: 'Healthy Eating',
            yourParagraph: 'Your Paragraph',
            sentenceBank: 'Sentence Bank',
            practiceOpt1: 'Eating a balanced diet is crucial for keeping your body and mind strong.',
            practiceOpt2: 'For instance, foods rich in protein help build muscles, while carbohydrates provide energy for daily activities.',
            practiceOpt3: 'Furthermore, nutritious food like fruits and vegetables provide vitamins that help you focus in school.',
            practiceOpt4: 'As a result, choosing healthy foods is essential for a long and active life.',
            checkOrderButton: 'Check Order',
            q4_feedback_correct: "Perfect order! That's a well-structured paragraph.",
            q4_feedback_wrong: "Not quite the right order. Try again! Think: Topic -> Details -> Conclusion.",
            q4_feedback_not_all: "Make sure to drag all four sentences into the box!",
            transitionsTitle: 'ğŸª„ Transition Words Bank',
            transitionsDesc: 'Transitions make your writing flow smoothly. Choose the best transition word to complete the sentence.',
            transitionsSentence: 'Pollution harms the environment; <span class="font-bold underline underline-offset-4" id="blank-space">_________</span>, dirty air can cause health problems.',
            transitionsOpt1: 'For example',
            transitionsOpt2: 'Finally',
            transitionsOpt3: 'In addition',
            q5_feedback_wrong1: 'This word shows an example, but we need one that adds another idea.',
            q5_feedback_wrong2: 'This word concludes an idea. We are adding a new point here.',
            q5_feedback_correct: "Yes! 'In addition' is perfect for adding a related idea.",
            finalTitle: 'ğŸ“ Final Challenge!',
            finalDesc: 'Let\'s put it all together. Build a paragraph on the topic: <span class="font-bold">"Technology in schools has both advantages and disadvantages."</span>',
            finalTopic: '"Technology in schools has both advantages and disadvantages."',
            finalQ1: '1. Choose your Topic Sentence:',
            finalQ1Opt1: 'While technology offers many benefits for learning, it can also create distractions in the classroom.',
            finalQ1Opt2: 'I like using tablets in school.',
            finalQ2: '2. Choose a Supporting Detail:',
            finalQ2Opt1: 'In conclusion, technology is a mixed blessing.',
            finalQ2Opt2: 'For example, students can use computers to research topics quickly, but they might also get sidetracked by games or social media.',
            finalQ3: '3. Choose your Concluding Sentence:',
            finalQ3Opt1: 'Therefore, schools must find a balance to use technology effectively without letting it hinder student focus.',
            finalQ3Opt2: 'The first computer was very big.',
            finishButton: 'Finish!',
            completeTitle: 'ğŸ‰ Congratulations! ğŸ‰',
            completeSub: "You've mastered the art of building strong body paragraphs. You're ready to write amazing essays!",
            completePractice: 'Practice makes perfect! âœï¸',
            playAgainButton: 'Play Again'
        },
        tr: {
            title: 'âœï¸ GÃ¼Ã§lÃ¼ GeliÅŸme ParagraflarÄ± Yazma',
            subtitle: 'â€œHarika giriÅŸler yazdÄ±ÄŸÄ±mÄ±za gÃ¶re, ÅŸimdi ortayÄ± inÅŸa edelim!â€',
            grade: 'ğŸ‘©â€ğŸ« 6. SÄ±nÄ±f KÃ¼resel Perspektifler',
            startButton: 'BaÅŸlayalÄ±m!',
            whatIsTitle: 'GeliÅŸme ParagrafÄ± Nedir?',
            whatIsLi1: 'Bu, makalenizin <span class="text-blue-500 font-semibold">ana kÄ±smÄ±dÄ±r</span>.',
            whatIsLi2: 'Her paragraf <span class="text-blue-500 font-semibold">tek bir ana fikre</span> odaklanÄ±r.',
            whatIsLi3: 'Tezinizi desteklemek iÃ§in ayrÄ±ntÄ±lar, Ã¶rnekler ve kanÄ±tlar sunar.',
            sandwich: 'ğŸ’¡ Bunu makale sandviÃ§inizin "eti" olarak dÃ¼ÅŸÃ¼nÃ¼n! ğŸ”',
            gotItButton: 'AnladÄ±m!',
            nextButton: 'Ä°leri',
            structureTitle: 'Bir GeliÅŸme ParagrafÄ±nÄ±n YapÄ±sÄ±',
            topicSentenceTitle: '1ï¸âƒ£ Konu CÃ¼mlesi',
            topicSentenceDesc: 'ParagrafÄ±n ana fikrini belirtir.',
            supportingDetailsTitle: '2ï¸âƒ£ Destekleyici Detaylar',
            supportingDetailsDesc: 'AÃ§Ä±klar, tanÄ±mlar veya Ã¶rnekler verir.',
            concludingSentenceTitle: '3ï¸âƒ£ SonuÃ§ CÃ¼mlesi',
            concludingSentenceDesc: 'Toparlar ve bir sonraki paragrafa baÄŸlanÄ±r.',
            oneIdea: 'ğŸ¯ Her paragraf iÃ§in bir ana fikir!',
            step1Title: 'AdÄ±m 1: GÃ¼Ã§lÃ¼ Bir Konu CÃ¼mlesi YazÄ±n',
            step1Desc: 'Konu cÃ¼mleniz, paragrafÄ±n ne hakkÄ±nda olduÄŸunu aÃ§Ä±kÃ§a belirtir. Deneyelim!',
            step1Topic: 'Konu: Spor yapmanÄ±n faydalarÄ±.',
            step1Question: 'EN Ä°YÄ° konu cÃ¼mlesi hangisidir?',
            step1Opt1: 'Ã–rneÄŸin, futbol daha hÄ±zlÄ± koÅŸmanÄ±za yardÄ±mcÄ± olur ve takÄ±m Ã§alÄ±ÅŸmasÄ±nÄ± geliÅŸtirir.',
            step1Opt2: 'Spor yapmak, Ã§ocuklarÄ±n saÄŸlÄ±klÄ± kalmasÄ± ve Ã¶nemli yaÅŸam becerileri Ã¶ÄŸrenmesi iÃ§in harika bir yoldur.',
            step1Opt3: 'Bu nedenle, herkes eÄŸlenmek ve egzersiz yapmak iÃ§in bir spor takÄ±mÄ±na katÄ±lmalÄ±dÄ±r.',
            q1_feedback_wrong1: 'Bu bir destekleyici detay, ana fikir deÄŸil.',
            q1_feedback_correct: 'Harika iÅŸ! Bu cÃ¼mle tÃ¼m paragrafÄ±n ana fikrini belirtiyor.',
            q1_feedback_wrong2: 'Bu bir sonuÃ§ cÃ¼mlesi gibi duruyor. Konuyu toparlÄ±yor.',
            step2Title: 'AdÄ±m 2: Destekleyici Detaylar Ekleyin',
            step2Desc: 'Destekleyici ayrÄ±ntÄ±lar, gÃ¶rÃ¼ÅŸÃ¼nÃ¼zÃ¼ gerÃ§ekler, Ã¶rnekler veya nedenlerle aÃ§Ä±klar ve kanÄ±tlar.',
            step2Topic: 'Konu CÃ¼mlesi: Bir evcil hayvana bakmak sorumluluk Ã¶ÄŸretir.',
            step2Question: 'Hangi Ä°KÄ° cÃ¼mle iyi destekleyici detaylardÄ±r?',
            step2Opt1: 'Bir evcil hayvanÄ±n her gÃ¼n beslenmesi ve su verilmesi gerekir, bu da tutarlÄ± bir gÃ¼nlÃ¼k iÅŸtir.',
            step2Opt2: 'En sevdiÄŸim kÃ¶pek tÃ¼rÃ¼ golden retriever.',
            step2Opt3: 'AyrÄ±ca, sahipleri evcil hayvanlarÄ±nÄ± egzersiz iÃ§in gezdirmeli ve arkalarÄ±nÄ± temizlemelidir.',
            q2_feedback_correct: 'Ä°ki destekleyici detayÄ± da buldunuz! MÃ¼kemmel!',
            q2_feedback_wrong: 'Tam olarak deÄŸil. UnutmayÄ±n, destekleyici detaylar belirli Ã¶rnekler veya nedenler verir.',
            step3Title: 'AdÄ±m 3: Bir SonuÃ§ CÃ¼mlesi ile Bitirin',
            step3Desc: 'SonuÃ§ cÃ¼mleniz, paragrafÄ±nÄ±zÄ±n ana fikrini yeni bir ÅŸekilde Ã¶zetlemelidir.',
            step3Topic: 'Konu CÃ¼mlesi: Sosyal medya, insanlarÄ±n arkadaÅŸlarÄ± ve aileleriyle baÄŸlantÄ±da kalmasÄ±na yardÄ±mcÄ± olur.',
            step3Support: 'Destek: Uzun mesafeler arasÄ±nda anÄ±nda iletiÅŸime izin verir ve insanlar kolayca fotoÄŸraf ve gÃ¼ncelleme paylaÅŸabilir.',
            step3Question: 'EN Ä°YÄ° sonuÃ§ cÃ¼mlesi hangisidir?',
            step3Opt1: 'Sosyal medyanÄ±n yararlÄ± olmasÄ±nÄ±n bir baÅŸka nedeni de haber bulmaktÄ±r.',
            step3Opt2: 'Mesafeleri kapattÄ±ÄŸÄ± ve paylaÅŸÄ±mÄ± basitleÅŸtirdiÄŸi iÃ§in sosyal medya, iliÅŸkileri sÃ¼rdÃ¼rmek iÃ§in gÃ¼Ã§lÃ¼ bir araÃ§tÄ±r.',
            step3Opt3: 'Ã–rneÄŸin, uzakta yaÅŸayan bÃ¼yÃ¼kanne ve bÃ¼yÃ¼kbabanÄ±zla gÃ¶rÃ¼ntÃ¼lÃ¼ sohbet edebilirsiniz.',
            q3_feedback_wrong1: 'Bu, farklÄ± bir paragraf iÃ§in bir konu cÃ¼mlesi gibi duruyor.',
            q3_feedback_correct: 'MÃ¼kemmel! Bu cÃ¼mle ana fikri yeni bir ÅŸekilde Ã¶zetliyor.',
            q3_feedback_wrong2: 'Bu, destekleyici bir detay olan Ã¶zel bir Ã¶rnektir.',
            formulaTitle: 'ğŸ§© MÃ¼kemmel Paragraf FormÃ¼lÃ¼',
            formulaTopic: 'Konu CÃ¼mlesi',
            formulaSupport: '2-3 Destekleyici CÃ¼mle',
            formulaConcluding: 'SonuÃ§ CÃ¼mlesi',
            formulaDesc: 'Åimdi, sÄ±fÄ±rdan bir tane oluÅŸturmayÄ± deneyelim!',
            buildButton: 'Hadi Ä°nÅŸa Edelim!',
            practiceTitle: 'ğŸ’¡ Grup PratiÄŸi EtkinliÄŸi',
            practiceDesc: 'Konu <span class="font-bold">SaÄŸlÄ±klÄ± Beslenme</span>. GÃ¼Ã§lÃ¼ bir paragraf oluÅŸturmak iÃ§in cÃ¼mleleri doÄŸru sÄ±raya sÃ¼rÃ¼kleyip bÄ±rakÄ±n.',
            practiceTopic: 'SaÄŸlÄ±klÄ± Beslenme',
            yourParagraph: 'ParagrafÄ±nÄ±z',
            sentenceBank: 'CÃ¼mle BankasÄ±',
            practiceOpt1: 'Dengeli beslenmek, vÃ¼cudunuzu ve zihninizi gÃ¼Ã§lÃ¼ tutmak iÃ§in Ã§ok Ã¶nemlidir.',
            practiceOpt2: 'Ã–rneÄŸin, protein aÃ§Ä±sÄ±ndan zengin yiyecekler kas yapÄ±mÄ±na yardÄ±mcÄ± olurken, karbonhidratlar gÃ¼nlÃ¼k aktiviteler iÃ§in enerji saÄŸlar.',
            practiceOpt3: 'AyrÄ±ca, meyve ve sebzeler gibi besleyici yiyecekler okulda odaklanmanÄ±za yardÄ±mcÄ± olan vitaminler saÄŸlar.',
            practiceOpt4: 'SonuÃ§ olarak, saÄŸlÄ±klÄ± yiyecekler seÃ§mek uzun ve aktif bir yaÅŸam iÃ§in esastÄ±r.',
            checkOrderButton: 'SÄ±rayÄ± Kontrol Et',
            q4_feedback_correct: 'MÃ¼kemmel sÄ±ra! Bu iyi yapÄ±landÄ±rÄ±lmÄ±ÅŸ bir paragraf.',
            q4_feedback_wrong: 'SÄ±ra pek doÄŸru deÄŸil. Tekrar deneyin! DÃ¼ÅŸÃ¼nÃ¼n: Konu -> Detaylar -> SonuÃ§.',
            q4_feedback_not_all: 'Kutuya dÃ¶rt cÃ¼mlenin hepsini sÃ¼rÃ¼klediÄŸinizden emin olun!',
            transitionsTitle: 'ğŸª„ GeÃ§iÅŸ Kelimeleri BankasÄ±',
            transitionsDesc: 'GeÃ§iÅŸler yazÄ±nÄ±zÄ±n akÄ±cÄ± olmasÄ±nÄ± saÄŸlar. CÃ¼mleyi tamamlamak iÃ§in en iyi geÃ§iÅŸ kelimesini seÃ§in.',
            transitionsSentence: 'Kirlilik Ã§evreye zarar verir; <span class="font-bold underline underline-offset-4" id="blank-space">_________</span>, kirli hava saÄŸlÄ±k sorunlarÄ±na neden olabilir.',
            transitionsOpt1: 'Ã–rneÄŸin',
            transitionsOpt2: 'Son olarak',
            transitionsOpt3: 'Ek olarak',
            q5_feedback_wrong1: 'Bu kelime bir Ã¶rnek gÃ¶sterir, ancak baÅŸka bir fikir ekleyen birine ihtiyacÄ±mÄ±z var.',
            q5_feedback_wrong2: 'Bu kelime bir fikri sonuÃ§landÄ±rÄ±r. Burada yeni bir nokta ekliyoruz.',
            q5_feedback_correct: "Evet! 'Ek olarak' ilgili bir fikir eklemek iÃ§in mÃ¼kemmeldir.",
            finalTitle: 'ğŸ“ Son Meydan Okuma!',
            finalDesc: 'Hadi hepsini bir araya getirelim. Åu konuda bir paragraf oluÅŸturun: <span class="font-bold">"Okullardaki teknolojinin hem avantajlarÄ± hem de dezavantajlarÄ± vardÄ±r."</span>',
            finalTopic: '"Okullardaki teknolojinin hem avantajlarÄ± hem de dezavantajlarÄ± vardÄ±r."',
            finalQ1: '1. Konu CÃ¼mlenizi SeÃ§in:',
            finalQ1Opt1: 'Teknoloji Ã¶ÄŸrenme iÃ§in birÃ§ok fayda sunarken, sÄ±nÄ±fta dikkat daÄŸÄ±tÄ±cÄ± unsurlar da yaratabilir.',
            finalQ1Opt2: 'Okulda tablet kullanmayÄ± seviyorum.',
            finalQ2: '2. Bir Destekleyici Detay SeÃ§in:',
            finalQ2Opt1: 'SonuÃ§ olarak, teknoloji karÄ±ÅŸÄ±k bir nimettir.',
            finalQ2Opt2: 'Ã–rneÄŸin, Ã¶ÄŸrenciler konularÄ± hÄ±zlÄ±ca araÅŸtÄ±rmak iÃ§in bilgisayarlarÄ± kullanabilirler, ancak oyunlar veya sosyal medya tarafÄ±ndan dikkatleri daÄŸÄ±labilir.',
            finalQ3: '3. SonuÃ§ CÃ¼mlenizi SeÃ§in:',
            finalQ3Opt1: 'Bu nedenle, okullar Ã¶ÄŸrenci odaÄŸÄ±nÄ± engellemeden teknolojiyi etkili bir ÅŸekilde kullanmak iÃ§in bir denge bulmalÄ±dÄ±r.',
            finalQ3Opt2: 'Ä°lk bilgisayar Ã§ok bÃ¼yÃ¼ktÃ¼.',
            finishButton: 'Bitir!',
            completeTitle: 'ğŸ‰ Tebrikler! ğŸ‰',
            completeSub: 'GÃ¼Ã§lÃ¼ geliÅŸme paragraflarÄ± oluÅŸturma sanatÄ±nda ustalaÅŸtÄ±nÄ±z. Harika makaleler yazmaya hazÄ±rsÄ±nÄ±z!',
            completePractice: 'Pratik yapmak mÃ¼kemmelleÅŸtirir! âœï¸',
            playAgainButton: 'Tekrar Oyna'
        },
        zh: {
            title: 'âœï¸ ç¼–å†™æœ‰åŠ›çš„æ­£æ–‡æ®µè½',
            subtitle: 'â€œæ—¢ç„¶æˆ‘ä»¬å·²ç»å†™å¥½äº†ç²¾å½©çš„å¼•è¨€â€”â€”è®©æˆ‘ä»¬æ¥æ„å»ºä¸­é—´éƒ¨åˆ†å§ï¼â€',
            grade: 'ğŸ‘©â€ğŸ« å…­å¹´çº§å…¨çƒè§†é‡',
            startButton: 'å¼€å§‹å§ï¼',
            whatIsTitle: 'ä»€ä¹ˆæ˜¯æ­£æ–‡æ®µè½ï¼Ÿ',
            whatIsLi1: 'å®ƒæ˜¯ä½ æ–‡ç« çš„<span class="text-blue-500 font-semibold">ä¸»è¦éƒ¨åˆ†</span>ã€‚',
            whatIsLi2: 'æ¯ä¸ªæ®µè½éƒ½å›´ç»•<span class="text-blue-500 font-semibold">ä¸€ä¸ªä¸­å¿ƒæ€æƒ³</span>å±•å¼€ã€‚',
            whatIsLi3: 'å®ƒæä¾›ç»†èŠ‚ã€ä¾‹å­å’Œè¯æ®æ¥æ”¯æŒä½ çš„è®ºç‚¹ã€‚',
            sandwich: 'ğŸ’¡ æŠŠå®ƒæƒ³è±¡æˆä½ æ–‡ç« ä¸‰æ˜æ²»é‡Œçš„â€œè‚‰â€ï¼ğŸ”',
            gotItButton: 'æ˜ç™½äº†ï¼',
            nextButton: 'ä¸‹ä¸€ä¸ª',
            structureTitle: 'æ­£æ–‡æ®µè½çš„ç»“æ„',
            topicSentenceTitle: '1ï¸âƒ£ ä¸»é¢˜å¥',
            topicSentenceDesc: 'é™ˆè¿°æ®µè½çš„ä¸­å¿ƒæ€æƒ³ã€‚',
            supportingDetailsTitle: '2ï¸âƒ£ æ”¯æ’‘ç»†èŠ‚',
            supportingDetailsDesc: 'è§£é‡Šã€æè¿°æˆ–ä¸¾ä¾‹è¯´æ˜ã€‚',
            concludingSentenceTitle: '3ï¸âƒ£ æ€»ç»“å¥',
            concludingSentenceDesc: 'æ€»ç»“å¹¶è¿æ¥åˆ°ä¸‹ä¸€æ®µã€‚',
            oneIdea: 'ğŸ¯ æ¯æ®µä¸€ä¸ªä¸­å¿ƒæ€æƒ³ï¼',
            step1Title: 'ç¬¬ä¸€æ­¥ï¼šå†™ä¸€ä¸ªå¼ºæœ‰åŠ›çš„ä¸»é¢˜å¥',
            step1Desc: 'ä½ çš„ä¸»é¢˜å¥æ¸…æ™°åœ°é™ˆè¿°äº†æ®µè½çš„å†…å®¹ã€‚æˆ‘ä»¬æ¥è¯•è¯•å§ï¼',
            step1Topic: 'ä¸»é¢˜ï¼šè¿åŠ¨çš„å¥½å¤„ã€‚',
            step1Question: 'å“ªä¸ªæ˜¯æœ€å¥½çš„ä¸»é¢˜å¥ï¼Ÿ',
            step1Opt1: 'ä¾‹å¦‚ï¼Œè¸¢è¶³çƒå¯ä»¥å¸®åŠ©ä½ è·‘å¾—æ›´å¿«ï¼Œå¹¶æé«˜å›¢é˜Ÿåˆä½œèƒ½åŠ›ã€‚',
            step1Opt2: 'è¿åŠ¨æ˜¯å­©å­ä»¬ä¿æŒå¥åº·å’Œå­¦ä¹ é‡è¦ç”Ÿæ´»æŠ€èƒ½çš„å¥½æ–¹æ³•ã€‚',
            step1Opt3: 'å› æ­¤ï¼Œæ¯ä¸ªäººéƒ½åº”è¯¥åŠ å…¥è¿åŠ¨é˜Ÿï¼Œäº«å—ä¹è¶£å¹¶é”»ç‚¼èº«ä½“ã€‚',
            q1_feedback_wrong1: 'è¿™æ˜¯ä¸€ä¸ªæ”¯æ’‘ç»†èŠ‚ï¼Œä¸æ˜¯ä¸­å¿ƒæ€æƒ³ã€‚',
            q1_feedback_correct: 'å¹²å¾—æ¼‚äº®ï¼è¿™ä¸ªå¥å­é™ˆè¿°äº†æ•´ä¸ªæ®µè½çš„ä¸­å¿ƒæ€æƒ³ã€‚',
            q1_feedback_wrong2: 'è¿™å¬èµ·æ¥åƒä¸€ä¸ªæ€»ç»“å¥ã€‚å®ƒåœ¨æ€»ç»“è§‚ç‚¹ã€‚',
            step2Title: 'ç¬¬äºŒæ­¥ï¼šæ·»åŠ æ”¯æ’‘ç»†èŠ‚',
            step2Desc: 'æ”¯æ’‘ç»†èŠ‚ç”¨äº‹å®ã€ä¾‹å­æˆ–ç†ç”±æ¥è§£é‡Šå’Œè¯æ˜ä½ çš„è§‚ç‚¹ã€‚',
            step2Topic: 'ä¸»é¢˜å¥ï¼šç…§é¡¾å® ç‰©å¯ä»¥åŸ¹å…»è´£ä»»æ„Ÿã€‚',
            step2Question: 'å“ªä¸¤ä¸ªå¥å­æ˜¯å¥½çš„æ”¯æ’‘ç»†èŠ‚ï¼Ÿ',
            step2Opt1: 'å® ç‰©æ¯å¤©éƒ½éœ€è¦å–‚é£Ÿå’Œå–‚æ°´ï¼Œè¿™æ˜¯ä¸€é¡¹æŒç»­çš„æ—¥å¸¸æ‚åŠ¡ã€‚',
            step2Opt2: 'æˆ‘æœ€å–œæ¬¢çš„ç‹—æ˜¯é‡‘æ¯›å¯»å›çŠ¬ã€‚',
            step2Opt3: 'æ­¤å¤–ï¼Œä¸»äººè¿˜å¿…é¡»å¸¦å® ç‰©æ•£æ­¥é”»ç‚¼å¹¶æ¸…ç†å®ƒä»¬çš„æ’æ³„ç‰©ã€‚',
            q2_feedback_correct: 'ä½ æ‰¾åˆ°äº†ä¸¤ä¸ªæ”¯æ’‘ç»†èŠ‚ï¼å¤ªæ£’äº†ï¼',
            q2_feedback_wrong: 'ä¸å®Œå…¨å¯¹ã€‚è®°ä½ï¼Œæ”¯æ’‘ç»†èŠ‚æ˜¯æä¾›å…·ä½“çš„ä¾‹å­æˆ–ç†ç”±ã€‚',
            step3Title: 'ç¬¬ä¸‰æ­¥ï¼šç”¨æ€»ç»“å¥ç»“å°¾',
            step3Desc: 'ä½ çš„æ€»ç»“å¥åº”è¯¥ç”¨ä¸€ç§æ–°çš„æ–¹å¼æ¥æ€»ç»“ä½ æ®µè½çš„è§‚ç‚¹ã€‚',
            step3Topic: 'ä¸»é¢˜å¥ï¼šç¤¾äº¤åª’ä½“å¸®åŠ©äººä»¬ä¸æœ‹å‹å’Œå®¶äººä¿æŒè”ç³»ã€‚',
            step3Support: 'æ”¯æ’‘ï¼šå®ƒå…è®¸è¿œè·ç¦»å³æ—¶é€šè®¯ï¼Œäººä»¬å¯ä»¥è½»æ¾åˆ†äº«ç…§ç‰‡å’ŒåŠ¨æ€ã€‚',
            step3Question: 'å“ªä¸ªæ˜¯æœ€å¥½çš„æ€»ç»“å¥ï¼Ÿ',
            step3Opt1: 'ç¤¾äº¤åª’ä½“æœ‰ç”¨çš„å¦ä¸€ä¸ªåŸå› æ˜¯ç”¨æ¥æŸ¥æ‰¾æ–°é—»ã€‚',
            step3Opt2: 'å› ä¸ºå®ƒè·¨è¶Šäº†è·ç¦»ï¼Œä½¿åˆ†äº«å˜å¾—ç®€å•ï¼Œæ‰€ä»¥ç¤¾äº¤åª’ä½“æ˜¯ç»´æŒå…³ç³»çš„å¼ºå¤§å·¥å…·ã€‚',
            step3Opt3: 'ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä¸è¿œæ–¹çš„ç¥–çˆ¶æ¯è¿›è¡Œè§†é¢‘èŠå¤©ã€‚',
            q3_feedback_wrong1: 'è¿™å¬èµ·æ¥åƒæ˜¯å¦ä¸€ä¸ªæ®µè½çš„ä¸»é¢˜å¥ã€‚',
            q3_feedback_correct: 'å®Œç¾ï¼è¿™ä¸ªå¥å­ç”¨ä¸€ç§æ–°çš„æ–¹å¼æ€»ç»“äº†ä¸­å¿ƒæ€æƒ³ã€‚',
            q3_feedback_wrong2: 'è¿™æ˜¯ä¸€ä¸ªå…·ä½“çš„ä¾‹å­ï¼Œå±äºæ”¯æ’‘ç»†èŠ‚ã€‚',
            formulaTitle: 'ğŸ§© å®Œç¾æ®µè½å…¬å¼',
            formulaTopic: 'ä¸»é¢˜å¥',
            formulaSupport: '2-3ä¸ªæ”¯æ’‘å¥',
            formulaConcluding: 'æ€»ç»“å¥',
            formulaDesc: 'ç°åœ¨ï¼Œè®©æˆ‘ä»¬ä»å¤´å¼€å§‹ç»ƒä¹ æ„å»ºä¸€ä¸ªæ®µè½å§ï¼',
            buildButton: 'å¼€å§‹æ„å»ºï¼',
            practiceTitle: 'ğŸ’¡ å°ç»„ç»ƒä¹ æ´»åŠ¨',
            practiceDesc: 'ä¸»é¢˜æ˜¯<span class="font-bold">å¥åº·é¥®é£Ÿ</span>ã€‚å°†å¥å­æ‹–æ”¾åˆ°æ­£ç¡®çš„é¡ºåºä»¥æ„å»ºä¸€ä¸ªå¼ºæœ‰åŠ›çš„æ®µè½ã€‚',
            practiceTopic: 'å¥åº·é¥®é£Ÿ',
            yourParagraph: 'ä½ çš„æ®µè½',
            sentenceBank: 'å¥å­åº“',
            practiceOpt1: 'å‡è¡¡é¥®é£Ÿå¯¹äºä¿æŒèº«å¿ƒå¼ºå£®è‡³å…³é‡è¦ã€‚',
            practiceOpt2: 'ä¾‹å¦‚ï¼Œå¯Œå«è›‹ç™½è´¨çš„é£Ÿç‰©æœ‰åŠ©äºè‚Œè‚‰ç”Ÿé•¿ï¼Œè€Œç¢³æ°´åŒ–åˆç‰©ä¸ºæ—¥å¸¸æ´»åŠ¨æä¾›èƒ½é‡ã€‚',
            practiceOpt3: 'æ­¤å¤–ï¼Œæ°´æœå’Œè”¬èœç­‰è¥å…»ä¸°å¯Œçš„é£Ÿç‰©æä¾›ç»´ç”Ÿç´ ï¼Œå¸®åŠ©ä½ åœ¨å­¦æ ¡é›†ä¸­æ³¨æ„åŠ›ã€‚',
            practiceOpt4: 'å› æ­¤ï¼Œé€‰æ‹©å¥åº·çš„é£Ÿç‰©å¯¹äºé•¿å¯¿å’Œç§¯æçš„ç”Ÿæ´»è‡³å…³é‡è¦ã€‚',
            checkOrderButton: 'æ£€æŸ¥é¡ºåº',
            q4_feedback_correct: 'é¡ºåºå®Œç¾ï¼è¿™æ˜¯ä¸€ä¸ªç»“æ„è‰¯å¥½çš„æ®µè½ã€‚',
            q4_feedback_wrong: 'é¡ºåºä¸å¤ªå¯¹ã€‚å†è¯•ä¸€æ¬¡ï¼æ€è€ƒä¸€ä¸‹ï¼šä¸»é¢˜ -> ç»†èŠ‚ -> æ€»ç»“ã€‚',
            q4_feedback_not_all: 'è¯·ç¡®ä¿å°†æ‰€æœ‰å››ä¸ªå¥å­éƒ½æ‹–åˆ°æ¡†ä¸­ï¼',
            transitionsTitle: 'ğŸª„ è¿‡æ¸¡è¯åº“',
            transitionsDesc: 'è¿‡æ¸¡è¯ä½¿ä½ çš„å†™ä½œæµç•…è‡ªç„¶ã€‚é€‰æ‹©æœ€åˆé€‚çš„è¿‡æ¸¡è¯æ¥å®Œæˆå¥å­ã€‚',
            transitionsSentence: 'æ±¡æŸ“å±å®³ç¯å¢ƒï¼›<span class="font-bold underline underline-offset-4" id="blank-space">_________</span>ï¼Œè‚®è„çš„ç©ºæ°”ä¼šå¯¼è‡´å¥åº·é—®é¢˜ã€‚',
            transitionsOpt1: 'ä¾‹å¦‚',
            transitionsOpt2: 'æœ€å',
            transitionsOpt3: 'æ­¤å¤–',
            q5_feedback_wrong1: 'è¿™ä¸ªè¯ç”¨æ¥ä¸¾ä¾‹ï¼Œä½†æˆ‘ä»¬éœ€è¦ä¸€ä¸ªè¡¥å……è¯´æ³•çš„è¯ã€‚',
            q5_feedback_wrong2: 'è¿™ä¸ªè¯ç”¨æ¥æ€»ç»“è§‚ç‚¹ã€‚æˆ‘ä»¬åœ¨è¿™é‡Œæ˜¯æ·»åŠ ä¸€ä¸ªæ–°çš„è§‚ç‚¹ã€‚',
            q5_feedback_correct: 'æ˜¯çš„ï¼â€œæ­¤å¤–â€éå¸¸é€‚åˆç”¨æ¥è¡¥å……ç›¸å…³çš„è§‚ç‚¹ã€‚',
            finalTitle: 'ğŸ“ æœ€ç»ˆæŒ‘æˆ˜ï¼',
            finalDesc: 'è®©æˆ‘ä»¬æŠŠæ‰€æœ‰çŸ¥è¯†ç‚¹æ•´åˆèµ·æ¥ã€‚å›´ç»•è¿™ä¸ªä¸»é¢˜æ„å»ºä¸€ä¸ªæ®µè½ï¼š<span class="font-bold">â€œå­¦æ ¡ä¸­çš„æŠ€æœ¯æ—¢æœ‰ä¼˜ç‚¹ä¹Ÿæœ‰ç¼ºç‚¹ã€‚â€</span>',
            finalTopic: 'â€œå­¦æ ¡ä¸­çš„æŠ€æœ¯æ—¢æœ‰ä¼˜ç‚¹ä¹Ÿæœ‰ç¼ºç‚¹ã€‚â€',
            finalQ1: '1. é€‰æ‹©ä½ çš„ä¸»é¢˜å¥ï¼š',
            finalQ1Opt1: 'è™½ç„¶æŠ€æœ¯ä¸ºå­¦ä¹ æä¾›äº†è®¸å¤šå¥½å¤„ï¼Œä½†å®ƒä¹Ÿå¯èƒ½åœ¨è¯¾å ‚ä¸Šé€ æˆå¹²æ‰°ã€‚',
            finalQ1Opt2: 'æˆ‘å–œæ¬¢åœ¨å­¦æ ¡ä½¿ç”¨å¹³æ¿ç”µè„‘ã€‚',
            finalQ2: '2. é€‰æ‹©ä¸€ä¸ªæ”¯æ’‘ç»†èŠ‚ï¼š',
            finalQ2Opt1: 'æ€»è€Œè¨€ä¹‹ï¼ŒæŠ€æœ¯æ˜¯ç¦ç¥¸ç›¸ä¾çš„ã€‚',
            finalQ2Opt2: 'ä¾‹å¦‚ï¼Œå­¦ç”Ÿå¯ä»¥ä½¿ç”¨ç”µè„‘å¿«é€Ÿç ”ç©¶è¯¾é¢˜ï¼Œä½†ä»–ä»¬ä¹Ÿå¯èƒ½è¢«æ¸¸æˆæˆ–ç¤¾äº¤åª’ä½“åˆ†å¿ƒã€‚',
            finalQ3: '3. é€‰æ‹©ä½ çš„æ€»ç»“å¥ï¼š',
            finalQ3Opt1: 'å› æ­¤ï¼Œå­¦æ ¡å¿…é¡»æ‰¾åˆ°ä¸€ä¸ªå¹³è¡¡ç‚¹ï¼Œä»¥æœ‰æ•ˆåœ°ä½¿ç”¨æŠ€æœ¯ï¼ŒåŒæ—¶ä¸è®©å®ƒå¦¨ç¢å­¦ç”Ÿçš„æ³¨æ„åŠ›ã€‚',
            finalQ3Opt2: 'ç¬¬ä¸€å°è®¡ç®—æœºéå¸¸å¤§ã€‚',
            finishButton: 'å®Œæˆï¼',
            completeTitle: 'ğŸ‰ æ­å–œï¼ğŸ‰',
            completeSub: 'ä½ å·²ç»æŒæ¡äº†æ„å»ºå¼ºæœ‰åŠ›æ­£æ–‡æ®µè½çš„æŠ€å·§ã€‚ä½ å‡†å¤‡å¥½å†™å‡ºç²¾å½©çš„æ–‡ç« äº†ï¼',
            completePractice: 'ç†Ÿèƒ½ç”Ÿå·§ï¼âœï¸',
            playAgainButton: 'å†ç©ä¸€æ¬¡'
        }
    };


    function setLanguage(lang) {
        currentLang = lang;
        const elements = document.querySelectorAll('[data-lang-key]');
        elements.forEach(el => {
            const key = el.dataset.langKey;
            if (translations[lang] && translations[lang][key]) {
                el.innerHTML = translations[lang][key];
            }
        });
        nextSlide();
    }

    function showSlide(index) {
        slides.forEach((slide, i) => {
            slide.classList.toggle('active', i === index);
        });
    }

    function nextSlide() {
        if (currentSlide < slides.length - 1) {
            currentSlide++;
            showSlide(currentSlide);
        }
    }

    function restartGame() {
        location.reload();
    }

    function checkAnswer(element, isCorrect, feedbackKey) {
        const parentOptions = element.parentElement;
        const feedbackEl = document.getElementById(parentOptions.id.replace('options', 'feedback'));
        const feedbackText = translations[currentLang][feedbackKey];
        
        if (isCorrect) {
            // Disable all options only when the correct answer is chosen
            parentOptions.querySelectorAll('.option-card').forEach(opt => {
                opt.onclick = null;
                opt.style.cursor = 'default';
            });

            element.classList.remove('incorrect'); // In case they clicked wrong first
            element.classList.add('correct');
            feedbackEl.textContent = feedbackText;
            feedbackEl.classList.add('text-green-600');
            feedbackEl.classList.remove('text-red-600');
            parentOptions.parentElement.querySelector('button[onclick="nextSlide()"]').classList.remove('hidden');
        } else {
            element.classList.add('incorrect');
            // Only disable the wrong option that was clicked
            element.onclick = null;
            element.style.cursor = 'default';
            feedbackEl.textContent = feedbackText;
            feedbackEl.classList.add('text-red-600');
        }
    }

    let correctCount = 0;
    
    function checkAnswerMulti(element, isCorrect) {
        // Prevent re-clicking the same option
        if (element.onclick === null) return;

        const feedbackEl = document.getElementById('q2-feedback');
        const parentOptions = element.parentElement;

        if (isCorrect) {
            element.classList.add('correct');
            element.onclick = null;
            element.style.cursor = 'default';
            correctCount++;
            feedbackEl.textContent = ''; // Clear wrong feedback if any
            feedbackEl.classList.remove('text-red-600');
        } else {
            element.classList.add('incorrect');
            element.onclick = null;
            element.style.cursor = 'default';
            feedbackEl.textContent = translations[currentLang]['q2_feedback_wrong'];
            feedbackEl.classList.add('text-red-600');
        }


        if (correctCount === 2) {
            feedbackEl.textContent = translations[currentLang]['q2_feedback_correct'];
            feedbackEl.classList.add('text-green-600');
            parentOptions.parentElement.querySelector('button').classList.remove('hidden');
            
            // Disable the last (incorrect) option if it's still clickable
            parentOptions.querySelectorAll('.option-card').forEach(opt => {
                if(opt.onclick !== null) {
                   opt.onclick = null;
                   opt.style.cursor = 'default';
                }
            });
        }
    }
    
    document.addEventListener('DOMContentLoaded', () => {
        const draggables = document.querySelectorAll('.draggable');
        const containers = document.querySelectorAll('.drop-zone');
        let draggedItem = null;

        draggables.forEach(draggable => {
            draggable.addEventListener('dragstart', () => {
                draggedItem = draggable;
                setTimeout(() => draggable.style.opacity = '0.5', 0);
            });

            draggable.addEventListener('dragend', () => {
                setTimeout(() => {
                    draggedItem.style.opacity = '1';
                    draggedItem = null;
                }, 0);
            });
        });

        containers.forEach(container => {
            container.addEventListener('dragover', e => {
                e.preventDefault();
                container.classList.add('over');
            });

            container.addEventListener('dragleave', () => {
                container.classList.remove('over');
            });

            container.addEventListener('drop', e => {
                e.preventDefault();
                if (draggedItem) {
                    container.appendChild(draggedItem);
                }
                container.classList.remove('over');
            });
        });
    });

    function checkOrder() {
        const dropZone = document.getElementById('drop-zone');
        const sentences = dropZone.querySelectorAll('.draggable');
        const feedbackEl = document.getElementById('q4-feedback');
        let isCorrect = true;

        if (sentences.length !== 4) {
             feedbackEl.textContent = translations[currentLang]['q4_feedback_not_all'];
             feedbackEl.className = 'feedback mt-2 text-sm font-semibold text-center text-red-600';
             return;
        }

        sentences.forEach((sentence, index) => {
            if (parseInt(sentence.dataset.order) !== index + 1) {
                isCorrect = false;
            }
        });

        if (isCorrect) {
            feedbackEl.textContent = translations[currentLang]['q4_feedback_correct'];
            feedbackEl.className = 'feedback mt-2 text-sm font-semibold text-center text-green-600';
            document.querySelector('[data-slide="8"] button.hidden').classList.remove('hidden');
            document.getElementById('check-order-btn').style.display = 'none';
        } else {
            feedbackEl.textContent = translations[currentLang]['q4_feedback_wrong'];
            feedbackEl.className = 'feedback mt-2 text-sm font-semibold text-center text-red-600';
        }
    }
    
    function checkFinalAnswer(element, isCorrect, questionNum) {
        const parentOptions = element.parentElement;
        
        if (isCorrect) {
            // Disable both options in the group once correct one is selected
            parentOptions.querySelectorAll('.option-card').forEach(opt => {
                opt.onclick = null;
                opt.style.cursor = 'default';
            });
            element.classList.add('correct');
        } else {
            // Only disable the incorrect one
            element.classList.add('incorrect');
            element.onclick = null;
            element.style.cursor = 'default';
        }
        
        // Check if all 3 correct answers have been selected
        const correctAnswers = document.querySelectorAll('#final-q1-options .correct, #final-q2-options .correct, #final-q3-options .correct').length;

        if (correctAnswers === 3) {
            document.querySelector('[data-slide="10"] button').classList.remove('hidden');
        }
    }
</script>
</body>
</html>

